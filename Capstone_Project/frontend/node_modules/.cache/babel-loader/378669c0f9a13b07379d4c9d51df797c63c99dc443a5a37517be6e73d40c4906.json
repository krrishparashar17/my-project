{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\krris\\\\Desktop\\\\my-project\\\\Project_Capstone\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$(),\n  _s11 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { BrowserRouter, Routes, Route, Link, useNavigate, Outlet, useLocation, Navigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\n// --- Configuration ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ROLES = {\n  Admin: 'Admin',\n  Editor: 'Editor',\n  Viewer: 'Viewer'\n};\n\n// Simplified permission definitions (for frontend checks)\nconst PERMISSIONS = {\n  [ROLES.Admin]: {\n    content: ['create', 'read', 'update_all', 'delete_all'],\n    users: ['read', 'update', 'delete'],\n    auditlog: ['read']\n  },\n  [ROLES.Editor]: {\n    content: ['create', 'read', 'update_own', 'delete_own'],\n    users: [],\n    auditlog: []\n  },\n  [ROLES.Viewer]: {\n    content: ['read'],\n    users: [],\n    auditlog: []\n  }\n};\n\n// --- Mock Data ---\nconst MOCK_AUDIT_LOGS = [{\n  _id: '1',\n  timestamp: '2023-10-27T10:30:00Z',\n  eventType: 'USER_LOGIN',\n  user: {\n    username: 'admin'\n  },\n  details: {\n    ip: '192.168.1.1'\n  }\n}, {\n  _id: '2',\n  timestamp: '2023-10-27T10:35:00Z',\n  eventType: 'ROLE_UPDATE',\n  user: {\n    username: 'admin'\n  },\n  targetUser: {\n    username: 'editor'\n  },\n  details: {\n    from: 'Editor',\n    to: 'Viewer'\n  }\n}, {\n  _id: '3',\n  timestamp: '2023-10-27T10:40:00Z',\n  eventType: 'USER_REGISTER',\n  user: {\n    username: 'newUser'\n  },\n  details: {\n    role: 'Viewer'\n  }\n}, {\n  _id: '4',\n  timestamp: '2023-10-27T09:00:00Z',\n  eventType: 'USER_LOGIN',\n  user: {\n    username: 'editor'\n  },\n  details: {\n    ip: '10.0.0.5'\n  }\n}, {\n  _id: '5',\n  timestamp: '2023-10-26T18:15:00Z',\n  eventType: 'ROLE_UPDATE',\n  user: {\n    username: 'admin'\n  },\n  targetUser: {\n    username: 'viewer'\n  },\n  details: {\n    from: 'Viewer',\n    to: 'Editor'\n  }\n}, {\n  _id: '6',\n  timestamp: '2023-10-27T11:00:00Z',\n  eventType: 'USER_LOGIN',\n  user: {\n    username: 'admin'\n  },\n  details: {\n    ip: '192.168.1.1'\n  }\n}];\n\n// --- Theme Classes (Hardcoded Dark) ---\nconst themeClasses = {\n  layout: \"min-h-screen font-sans transition-colors duration-300 bg-gray-900\",\n  nav: \"sticky top-0 z-30 shadow-sm border-b bg-black/20 backdrop-blur-lg text-white border-white/10\",\n  card: \"rounded-xl bg-black/20 backdrop-blur-lg border border-white/20 shadow-xl\",\n  input: \"w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 transition-all bg-gray-700/50 border-white/20 text-white placeholder-gray-300 focus:ring-blue-500 focus:border-blue-500\",\n  text: \"text-white\",\n  textMuted: \"text-gray-300\",\n  textLabel: \"text-gray-100\",\n  textHeading: \"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400\",\n  aurora: \"absolute top-0 left-0 w-full h-full overflow-hidden -z-10\",\n  solidBg: \"bg-gray-800\",\n  solidBorder: \"border-gray-700\"\n};\n\n// --- Auth Context ---\nconst AuthContext = /*#__PURE__*/createContext(null);\n\n// --- Axios API Client ---\nconst apiClient = axios.create({\n  baseURL: 'http://localhost:5001/api',\n  withCredentials: true\n});\napiClient.interceptors.request.use(config => {\n  const {\n    accessToken\n  } = JSON.parse(localStorage.getItem('auth') || '{}');\n  if (accessToken) {\n    config.headers['Authorization'] = `Bearer ${accessToken}`;\n  }\n  return config;\n}, error => Promise.reject(error));\napiClient.interceptors.response.use(response => response, async error => {\n  var _error$response;\n  const originalRequest = error.config;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/refresh');\n      const newAccessToken = data.accessToken;\n      let authData = JSON.parse(localStorage.getItem('auth') || '{}');\n      authData.accessToken = newAccessToken;\n      localStorage.setItem('auth', JSON.stringify(authData));\n      originalRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\n      return apiClient(originalRequest);\n    } catch (refreshError) {\n      localStorage.removeItem('auth');\n      window.location.href = '/login';\n      return Promise.reject(refreshError);\n    }\n  }\n  return Promise.reject(error);\n});\n\n// --- AuthProvider Component ---\nconst AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    try {\n      const authData = JSON.parse(localStorage.getItem('auth'));\n      if (authData && authData.user) {\n        setUser(authData.user);\n      }\n    } catch (error) {\n      console.error('Failed to parse auth data from localStorage');\n    }\n    setLoading(false);\n  }, []);\n  const login = userData => {\n    const authData = {\n      accessToken: userData.accessToken,\n      user: userData.user\n    };\n    localStorage.setItem('auth', JSON.stringify(authData));\n    setUser(userData.user);\n  };\n  const logout = async () => {\n    try {\n      await apiClient.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout failed', error);\n    }\n    localStorage.removeItem('auth');\n    setUser(null);\n  };\n  const value = {\n    user,\n    login,\n    logout,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Auth Hooks ---\n_s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = AuthProvider;\nconst useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst usePermissions = () => {\n  _s3();\n  const {\n    user\n  } = useAuth();\n  const can = (action, subject) => {\n    var _PERMISSIONS$user$rol;\n    if (!user) return false;\n    const [resource, requiredPermission] = action.split(':');\n    const userPermissions = ((_PERMISSIONS$user$rol = PERMISSIONS[user.role]) === null || _PERMISSIONS$user$rol === void 0 ? void 0 : _PERMISSIONS$user$rol[resource]) || [];\n    if (userPermissions.includes(requiredPermission) || userPermissions.includes(`${requiredPermission}_all`)) {\n      return true;\n    }\n    if (userPermissions.includes(`${requiredPermission}_own`)) {\n      if (!subject) {\n        return true;\n      }\n      return subject.authorId === user.id;\n    }\n    return false;\n  };\n  const canRead = (resource = 'content') => can(`${resource}:read`);\n  const canCreate = (resource = 'content') => can(`${resource}:create`);\n  const canUpdate = (subject, resource = 'content') => can(`${resource}:update`, subject);\n  const canDelete = (subject, resource = 'content') => can(`${resource}:delete`, subject);\n  const canManageUsers = () => can('users:read');\n  const canViewAuditLog = () => can('auditlog:read');\n  return {\n    can,\n    canRead,\n    canCreate,\n    canUpdate,\n    canDelete,\n    canManageUsers,\n    canViewAuditLog,\n    userRole: user === null || user === void 0 ? void 0 : user.role,\n    userId: user === null || user === void 0 ? void 0 : user.id\n  };\n};\n\n// --- UI Components ---\n\n// Modal\n_s3(usePermissions, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\nconst Modal = ({\n  title,\n  children,\n  onClose\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `relative w-full max-w-md p-6 ${themeClasses.card}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: `text-xl font-semibold mb-4 ${themeClasses.text}`,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: themeClasses.textMuted,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"absolute top-4 right-4 text-gray-400 hover:text-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M6 18L18 6M6 6l12 12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 90\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n\n// Aurora Background\n_c2 = Modal;\nconst AuroraBackground = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: themeClasses.aurora,\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .aurora-blur {\n          filter: blur(100px);\n        }\n        .aurora-1 {\n          position: absolute;\n          width: 500px;\n          height: 500px;\n          background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, rgba(139, 92, 246, 0) 70%);\n          animation: aurora-anim-1 20s infinite alternate;\n        }\n        .aurora-2 {\n          position: absolute;\n          width: 400px;\n          height: 400px;\n          background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, rgba(59, 130, 246, 0) 70%);\n          animation: aurora-anim-2 22s infinite alternate;\n        }\n        .aurora-3 {\n          position: absolute;\n          width: 300px;\n          height: 300px;\n          background: radial-gradient(circle, rgba(236, 72, 153, 0.4) 0%, rgba(236, 72, 153, 0) 70%);\n          animation: aurora-anim-3 18s infinite alternate;\n        }\n        @keyframes aurora-anim-1 {\n          0% { top: 10%; left: 10%; }\n          100% { top: 30%; left: 60%; }\n        }\n        @keyframes aurora-anim-2 {\n          0% { top: 50%; left: 70%; }\n          100% { top: 40%; left: 20%; }\n        }\n        @keyframes aurora-anim-3 {\n          0% { top: 80%; left: 40%; }\n          100% { top: 60%; left: 80%; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aurora-blur\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aurora-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aurora-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aurora-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Page Components ---\n\n// Layout\n_c3 = AuroraBackground;\nconst Layout = () => {\n  _s4();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    canManageUsers\n  } = usePermissions();\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: themeClasses.layout,\n    children: [/*#__PURE__*/_jsxDEV(AuroraBackground, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: themeClasses.nav,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500\",\n              children: \"RBAC Platform\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), canManageUsers() && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin\",\n              className: \"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors\",\n              children: \"Admin Panel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `${themeClasses.textMuted} text-sm`,\n                children: [\"Hi, \", user.username, \" (\", user.role, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogout,\n                className: \"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-md hover:from-red-600 hover:to-red-700 transition-all duration-300 transform hover:scale-105\",\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                className: \"text-gray-300 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/register\",\n                className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"py-10 relative z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n};\n\n// Home Page (Content List)\n_s4(Layout, \"DiHcinxUASZKIXPNCfNFo0NVyaI=\", false, function () {\n  return [useAuth, useNavigate, usePermissions];\n});\n_c4 = Layout;\nconst HomePage = () => {\n  _s5();\n  const [content, setContent] = useState([]);\n  const [error, setError] = useState(null);\n  const {\n    canCreate\n  } = usePermissions();\n  const fetchContent = async () => {\n    try {\n      setError(null);\n      const {\n        data\n      } = await apiClient.get('/content');\n      setContent(data);\n    } catch (err) {\n      setError('Failed to fetch content.');\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    fetchContent();\n  }, []);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: `text-4xl font-bold ${themeClasses.text}`,\n        children: \"Content Feed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), canCreate() && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/create\",\n        className: \"bg-gradient-to-r from-green-500 to-green-600 text-white px-5 py-2.5 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105\",\n        children: \"+ Create New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: content.length > 0 ? content.map(item => /*#__PURE__*/_jsxDEV(ContentItem, {\n        item: item,\n        onDelete: fetchContent\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${themeClasses.textMuted} text-center`,\n        children: \"No content yet. Be the first to create a post!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 367,\n    columnNumber: 5\n  }, this);\n};\n\n// Content Item\n_s5(HomePage, \"3a8c7mspEVCt9plabnx9Qt2v6BE=\", false, function () {\n  return [usePermissions];\n});\n_c5 = HomePage;\nconst ContentItem = ({\n  item,\n  onDelete\n}) => {\n  _s6();\n  var _item$author, _item$author2;\n  const {\n    canUpdate,\n    canDelete\n  } = usePermissions();\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [deleteError, setDeleteError] = useState(null);\n  const subject = {\n    authorId: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : _item$author._id\n  };\n  const canEdit = canUpdate(subject);\n  const canRemove = canDelete(subject);\n  const handleDelete = async () => {\n    try {\n      setDeleteError(null);\n      await apiClient.delete(`/content/${item._id}`);\n      setShowConfirm(false);\n      onDelete();\n    } catch (err) {\n      setDeleteError('Failed to delete post.');\n      console.error(err);\n      setShowConfirm(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-6 transition-all duration-300 ${themeClasses.card}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: `text-2xl font-semibold ${themeClasses.text} mb-2`,\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${themeClasses.textMuted} text-sm mb-4`,\n            children: [\"By \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `font-medium ${themeClasses.textLabel}`,\n              children: ((_item$author2 = item.author) === null || _item$author2 === void 0 ? void 0 : _item$author2.username) || 'Unknown Author'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2 flex-shrink-0 ml-4\",\n          children: [canEdit && /*#__PURE__*/_jsxDEV(Link, {\n            to: `/edit/${item._id}`,\n            className: \"text-sm bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-4 py-2 rounded-lg shadow-md hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 transform hover:scale-105\",\n            title: \"Edit this post\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), canRemove && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfirm(true),\n            className: \"text-sm bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg shadow-md hover:from-red-600 hover:to-red-700 transition-all duration-300 transform hover:scale-105\",\n            title: \"Delete this post\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${themeClasses.textMuted} leading-relaxed`,\n        children: item.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), deleteError && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm mt-4\",\n        children: deleteError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Delete Post?\",\n      onClose: () => setShowConfirm(false),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Are you sure you want to delete the post titled \\\"\", item.title, \"\\\"? This action cannot be undone.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowConfirm(false),\n          className: \"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          className: \"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n// Form Wrapper Component\n_s6(ContentItem, \"hw0QRq+nvIhvpTHBchh/nUZt3Ww=\", false, function () {\n  return [usePermissions];\n});\n_c6 = ContentItem;\nconst AuthFormWrapper = ({\n  title,\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-md mx-auto p-8 md:p-10 ${themeClasses.card}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-center mb-8 ${themeClasses.textHeading}`,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 474,\n    columnNumber: 5\n  }, this);\n};\n\n// Login Page\n_c7 = AuthFormWrapper;\nconst LoginPage = () => {\n  _s7();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/login', {\n        username,\n        password\n      });\n      login(data);\n      if (data.user.role === ROLES.Admin) {\n        navigate('/admin');\n      } else {\n        navigate('/');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Invalid username or password.');\n      console.error(err);\n    }\n  };\n  const fillDemoUser = (user, pass) => {\n    setUsername(user);\n    setPassword(pass);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthFormWrapper, {\n    title: \"Welcome Back!\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: `mb-3 ${themeClasses.textMuted} text-sm`,\n        children: \"Or try a demo user:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fillDemoUser('admin', 'adminpassword'),\n          className: \"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-purple-500 to-indigo-500 shadow-md hover:scale-105 transform transition-all\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fillDemoUser('editor', 'editorpassword'),\n          className: \"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-cyan-500 to-blue-500 shadow-md hover:scale-105 transform transition-all\",\n          children: \"Editor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fillDemoUser('viewer', 'viewerpassword'),\n          className: \"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-green-500 to-teal-500 shadow-md hover:scale-105 transform transition-all\",\n          children: \"Viewer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mt-6 text-center text-sm ${themeClasses.textMuted}`,\n      children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        className: \"font-medium text-blue-500 hover:text-blue-400\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 514,\n    columnNumber: 5\n  }, this);\n};\n\n// Register Page\n_s7(LoginPage, \"9moAHKcEr28kYMjK2qiny1DsrE4=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c8 = LoginPage;\nconst RegisterPage = () => {\n  _s8();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState(ROLES.Viewer);\n  const [error, setError] = useState(null);\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/register', {\n        username,\n        password,\n        role\n      });\n      login(data);\n      navigate('/');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to register. Username might be taken.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AuthFormWrapper, {\n    title: \"Create Your Account\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 603,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"role\",\n          children: \"Register as:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"role\",\n          value: role,\n          onChange: e => setRole(e.target.value),\n          className: themeClasses.input,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            className: \"bg-gray-700 text-white\",\n            value: ROLES.Viewer,\n            children: \"Viewer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            className: \"bg-gray-700 text-white\",\n            value: ROLES.Editor,\n            children: \"Editor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mt-6 text-center text-sm ${themeClasses.textMuted}`,\n      children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        className: \"font-medium text-blue-500 hover:text-blue-400\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 600,\n    columnNumber: 5\n  }, this);\n};\n\n// AdminDashboard Page\n_s8(RegisterPage, \"Qg3SWAyNBLZGLsG4flssbf5wdmk=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c9 = RegisterPage;\nconst AdminDashboard = () => {\n  const AdminButton = ({\n    to,\n    title,\n    description,\n    icon\n  }) => /*#__PURE__*/_jsxDEV(Link, {\n    to: to,\n    className: `block p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl ${themeClasses.card}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white\",\n        children: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: `text-xl font-semibold ${themeClasses.text}`,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: themeClasses.textMuted,\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 657,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-4xl font-bold mb-8 text-center ${themeClasses.textHeading}`,\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(AdminButton, {\n        to: \"/\",\n        title: \"Manage Content Feed\",\n        description: \"View, edit, and delete all posts.\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 12h6M7 8h6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 96\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AdminButton, {\n        to: \"/admin/users\",\n        title: \"Manage Users\",\n        description: \"View all users and change their roles.\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 016-6h6m6 3a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 96\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AdminButton, {\n        to: \"/admin/audit\",\n        title: \"View Audit Log\",\n        description: \"See a log of important system events.\",\n        icon: /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 96\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 674,\n    columnNumber: 5\n  }, this);\n};\n\n// Admin Page (User Management)\n_c0 = AdminDashboard;\nconst AdminPage = () => {\n  _s9();\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  const [editingRole, setEditingRole] = useState({});\n  const [updateError, setUpdateError] = useState(null);\n  const {\n    userId: adminUserId\n  } = usePermissions();\n  const fetchUsers = async () => {\n    try {\n      setError(null);\n      const {\n        data\n      } = await apiClient.get('/users');\n      setUsers(data);\n    } catch (err) {\n      setError('Failed to fetch users.');\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const handleRoleChange = (userId, newRole) => {\n    setEditingRole(prev => ({\n      ...prev,\n      [userId]: newRole\n    }));\n  };\n  const handleSaveRole = async userId => {\n    const newRole = editingRole[userId];\n    if (!newRole) return;\n    setUpdateError(null);\n    try {\n      await apiClient.put(`/users/${userId}/role`, {\n        role: newRole\n      });\n      setEditingRole(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[userId];\n        return newState;\n      });\n      fetchUsers();\n    } catch (err) {\n      setUpdateError('Failed to update role.');\n      console.error(err);\n    }\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-4xl mx-auto p-8 ${themeClasses.card}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-center mb-6 ${themeClasses.textHeading}`,\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 7\n    }, this), updateError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center mb-4 text-sm\",\n      children: updateError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full table-auto min-w-max\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: `bg-gray-700/50 text-left ${themeClasses.textLabel} uppercase text-sm`,\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 font-semibold\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 font-semibold\",\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 font-semibold\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          className: themeClasses.textMuted,\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: `border-b ${themeClasses.solidBorder} hover:bg-gray-700/50`,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4\",\n              children: user.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-6 py-4 flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: editingRole[user._id] || user.role,\n                onChange: e => handleRoleChange(user._id, e.target.value),\n                disabled: user._id === adminUserId,\n                className: `${themeClasses.input} ${user._id === adminUserId ? 'bg-gray-600/50' : ''}`,\n                children: Object.values(ROLES).map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: role,\n                  className: \"bg-gray-700 text-white\",\n                  children: role\n                }, role, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 19\n              }, this), editingRole[user._id] && editingRole[user._id] !== user.role && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSaveRole(user._id),\n                className: \"px-4 py-2 rounded-lg bg-green-600 text-white text-sm hover:bg-green-700\",\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 17\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 766,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 755,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 752,\n    columnNumber: 5\n  }, this);\n};\n\n// AuditLogPage\n// AuditLogPage\n_s9(AdminPage, \"bDnfaJoF+J+jzu9tA28JbOAI8VQ=\", false, function () {\n  return [usePermissions];\n});\n_c1 = AdminPage;\nconst AuditLogPage = () => {\n  _s0();\n  const [logs, setLogs] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch function\n  const fetchLogs = async () => {\n    try {\n      setError(null);\n      const {\n        data\n      } = await apiClient.get('/audit-logs'); // calls http://localhost:5001/api/audit-logs\n      // Optional: if backend returns timestamps, convert to ISO or leave as-is\n      // Ensure newest first (backend already sorts, but just in case)\n      const sorted = Array.isArray(data) ? data.sort((a, b) => new Date(b.timestamp || b.createdAt) - new Date(a.timestamp || a.createdAt)) : [];\n      setLogs(sorted);\n      setLoading(false);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Failed to fetch audit logs', err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Failed to fetch audit logs.');\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchLogs();\n\n    // Polling interval: update every 5 seconds (tune as needed)\n    const interval = setInterval(fetchLogs, 5000);\n\n    // Cleanup on unmount\n    return () => clearInterval(interval);\n  }, []);\n  const renderLogDetails = log => {\n    // Match your backend fields (server.js formats logs with type, adminUsername, targetUsername, oldRole, newRole)\n    switch (log.type) {\n      case 'ROLE_CHANGE':\n        return `${log.adminUsername || 'Someone'} changed ${log.targetUsername || 'a user'}'s role from ${log.oldRole || 'N/A'} to ${log.newRole || 'N/A'}.`;\n      case 'USER_LOGIN':\n        return `${log.adminUsername || log.targetUsername || 'User'} logged in.`;\n      case 'USER_REGISTER':\n        return `${log.adminUsername || log.targetUsername || 'User'} registered a new account.`;\n      default:\n        return 'Performed an action.';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-4xl mx-auto p-8 ${themeClasses.card}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-center mb-6 ${themeClasses.textHeading}`,\n      children: \"Audit Log (Recent)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 854,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `${themeClasses.textMuted} text-center`,\n      children: \"Loading audit logs...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center mb-4 text-sm\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 857,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: logs.length > 0 ? logs.map(log => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-lg bg-gray-700/50\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: themeClasses.text,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-blue-400\",\n            children: log.adminUsername || log.targetUsername || 'System'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 15\n          }, this), \" \", renderLogDetails(log)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm ${themeClasses.textMuted} mt-1`,\n          children: new Date(log.timestamp || log.createdAt).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 13\n        }, this)]\n      }, log._id || log.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 861,\n        columnNumber: 11\n      }, this)) : !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: themeClasses.textMuted,\n        children: \"No audit logs found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 853,\n    columnNumber: 5\n  }, this);\n};\n\n// Form Wrapper for Content\n_s0(AuditLogPage, \"UTWrcZRKVUZJtY8j3on1YkIs/kg=\");\n_c10 = AuditLogPage;\nconst ContentFormWrapper = ({\n  title,\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `max-w-2xl mx-auto p-8 md:p-10 ${themeClasses.card}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: `text-center mb-8 ${themeClasses.textHeading}`,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 882,\n    columnNumber: 5\n  }, this);\n};\n\n// CreatePostPage\n_c11 = ContentFormWrapper;\nconst CreatePostPage = () => {\n  _s1();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    if (!title || !body) {\n      setError('Title and body are required.');\n      return;\n    }\n    try {\n      await apiClient.post('/content', {\n        title,\n        body\n      });\n      navigate('/');\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Failed to create post.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ContentFormWrapper, {\n    title: \"Create New Post\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 918,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"body\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"body\",\n          rows: \"10\",\n          value: body,\n          onChange: e => setBody(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\",\n        children: \"Publish Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 938,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 915,\n    columnNumber: 5\n  }, this);\n};\n\n// EditPostPage\n_s1(CreatePostPage, \"bm2IKmFZccU/natvDxr4F8Pnawc=\", false, function () {\n  return [useNavigate];\n});\n_c12 = CreatePostPage;\nconst EditPostPage = () => {\n  _s10();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const {\n          data\n        } = await apiClient.get(`/content/${id}`);\n        setTitle(data.title);\n        setBody(data.body);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch post data. You may not have permission to edit this.');\n        console.error(err);\n        setLoading(false);\n      }\n    };\n    fetchPost();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    if (!title || !body) {\n      setError('Title and body are required.');\n      return;\n    }\n    try {\n      await apiClient.put(`/content/${id}`, {\n        title,\n        body\n      });\n      navigate('/');\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || 'Failed to update post.');\n      console.error(err);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `text-center ${themeClasses.textMuted}`,\n      children: \"Loading post...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 991,\n      columnNumber: 12\n    }, this);\n  }\n  if (error && !title) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 995,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(ContentFormWrapper, {\n    title: \"Edit Post\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1004,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: `block mb-2 font-medium ${themeClasses.textLabel}`,\n          htmlFor: \"body\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"body\",\n          rows: \"10\",\n          value: body,\n          onChange: e => setBody(e.target.value),\n          className: themeClasses.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\",\n        children: \"Update Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 999,\n    columnNumber: 5\n  }, this);\n};\n\n// Unauthorized Page\n_s10(EditPostPage, \"ilVgnhi4OrgSq5WncZE7g+7CwBk=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c13 = EditPostPage;\nconst UnauthorizedPage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `text-center p-10 max-w-lg mx-auto ${themeClasses.card}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-yellow-500\",\n      children: \"Access Denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1037,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: `mt-6 text-xl ${themeClasses.textMuted}`,\n      children: \"You do not have the required permissions to view this page.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1038,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"mt-8 inline-block bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\",\n      children: \"Go Back to Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1039,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1036,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Protected Route Component ---\n_c14 = UnauthorizedPage;\nconst ProtectedRoute = ({\n  allowedRoles\n}) => {\n  _s11();\n  const {\n    user\n  } = useAuth();\n  const location = useLocation();\n  const {\n    userRole\n  } = usePermissions();\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 12\n    }, this);\n  }\n  if (allowedRoles && !allowedRoles.includes(userRole)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/unauthorized\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1057,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1060,\n    columnNumber: 10\n  }, this);\n};\n\n// --- App Component ---\n_s11(ProtectedRoute, \"mY78XIREVb2K+tg9g3GlF++YEw4=\", false, function () {\n  return [useAuth, useLocation, usePermissions];\n});\n_c15 = ProtectedRoute;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1069,\n            columnNumber: 36\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/unauthorized\",\n            element: /*#__PURE__*/_jsxDEV(UnauthorizedPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 29\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Route, {\n              index: true,\n              element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1078,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              allowedRoles: [ROLES.Admin, ROLES.Editor]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 29\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"create\",\n              element: /*#__PURE__*/_jsxDEV(CreatePostPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"edit/:id\",\n              element: /*#__PURE__*/_jsxDEV(EditPostPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1084,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1082,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              allowedRoles: [ROLES.Admin]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 29\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"admin\",\n              element: /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"admin/users\",\n              element: /*#__PURE__*/_jsxDEV(AdminPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1090,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"admin/audit\",\n              element: /*#__PURE__*/_jsxDEV(AuditLogPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 50\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1091,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1068,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1067,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1066,\n    columnNumber: 5\n  }, this);\n}\n_c16 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"AuroraBackground\");\n$RefreshReg$(_c4, \"Layout\");\n$RefreshReg$(_c5, \"HomePage\");\n$RefreshReg$(_c6, \"ContentItem\");\n$RefreshReg$(_c7, \"AuthFormWrapper\");\n$RefreshReg$(_c8, \"LoginPage\");\n$RefreshReg$(_c9, \"RegisterPage\");\n$RefreshReg$(_c0, \"AdminDashboard\");\n$RefreshReg$(_c1, \"AdminPage\");\n$RefreshReg$(_c10, \"AuditLogPage\");\n$RefreshReg$(_c11, \"ContentFormWrapper\");\n$RefreshReg$(_c12, \"CreatePostPage\");\n$RefreshReg$(_c13, \"EditPostPage\");\n$RefreshReg$(_c14, \"UnauthorizedPage\");\n$RefreshReg$(_c15, \"ProtectedRoute\");\n$RefreshReg$(_c16, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","BrowserRouter","Routes","Route","Link","useNavigate","Outlet","useLocation","Navigate","useParams","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ROLES","Admin","Editor","Viewer","PERMISSIONS","content","users","auditlog","MOCK_AUDIT_LOGS","_id","timestamp","eventType","user","username","details","ip","targetUser","from","to","role","themeClasses","layout","nav","card","input","text","textMuted","textLabel","textHeading","aurora","solidBg","solidBorder","AuthContext","apiClient","create","baseURL","withCredentials","interceptors","request","use","config","accessToken","JSON","parse","localStorage","getItem","headers","error","Promise","reject","response","_error$response","originalRequest","status","_retry","data","post","newAccessToken","authData","setItem","stringify","refreshError","removeItem","window","location","href","AuthProvider","children","_s","setUser","loading","setLoading","console","login","userData","logout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","usePermissions","_s3","can","action","subject","_PERMISSIONS$user$rol","resource","requiredPermission","split","userPermissions","includes","authorId","id","canRead","canCreate","canUpdate","canDelete","canManageUsers","canViewAuditLog","userRole","userId","Modal","title","onClose","className","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_c2","AuroraBackground","_c3","Layout","_s4","navigate","handleLogout","_c4","HomePage","_s5","setContent","setError","fetchContent","get","err","length","map","item","ContentItem","onDelete","_c5","_s6","_item$author","_item$author2","showConfirm","setShowConfirm","deleteError","setDeleteError","author","canEdit","canRemove","handleDelete","delete","body","_c6","AuthFormWrapper","_c7","LoginPage","_s7","setUsername","password","setPassword","handleSubmit","e","preventDefault","_err$response","_err$response$data","message","fillDemoUser","pass","onSubmit","htmlFor","type","onChange","target","_c8","RegisterPage","_s8","setRole","_err$response2","_err$response2$data","_c9","AdminDashboard","AdminButton","description","icon","_c0","AdminPage","_s9","setUsers","editingRole","setEditingRole","updateError","setUpdateError","adminUserId","fetchUsers","handleRoleChange","newRole","prev","handleSaveRole","put","newState","disabled","Object","values","_c1","AuditLogPage","_s0","logs","setLogs","fetchLogs","sorted","Array","isArray","sort","a","b","Date","createdAt","_err$response3","_err$response3$data","interval","setInterval","clearInterval","renderLogDetails","log","adminUsername","targetUsername","oldRole","toLocaleString","_c10","ContentFormWrapper","_c11","CreatePostPage","_s1","setTitle","setBody","_err$response4","_err$response4$data","rows","_c12","EditPostPage","_s10","fetchPost","_err$response5","_err$response5$data","_c13","UnauthorizedPage","_c14","ProtectedRoute","allowedRoles","_s11","state","replace","_c15","App","path","element","index","_c16","$RefreshReg$"],"sources":["C:/Users/krris/Desktop/my-project/Project_Capstone/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useNavigate,\r\n  Outlet,\r\n  useLocation,\r\n  Navigate,\r\n  useParams,\r\n} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n// --- Configuration ---\r\n\r\nconst ROLES = {\r\n  Admin: 'Admin',\r\n  Editor: 'Editor',\r\n  Viewer: 'Viewer',\r\n};\r\n\r\n// Simplified permission definitions (for frontend checks)\r\nconst PERMISSIONS = {\r\n  [ROLES.Admin]: {\r\n    content: ['create', 'read', 'update_all', 'delete_all'],\r\n    users: ['read', 'update', 'delete'],\r\n    auditlog: ['read'],\r\n  },\r\n  [ROLES.Editor]: {\r\n    content: ['create', 'read', 'update_own', 'delete_own'],\r\n    users: [],\r\n    auditlog: [],\r\n  },\r\n  [ROLES.Viewer]: {\r\n    content: ['read'],\r\n    users: [],\r\n    auditlog: [],\r\n  },\r\n};\r\n\r\n// --- Mock Data ---\r\nconst MOCK_AUDIT_LOGS = [\r\n    { _id: '1', timestamp: '2023-10-27T10:30:00Z', eventType: 'USER_LOGIN', user: { username: 'admin' }, details: { ip: '192.168.1.1' } },\r\n    { _id: '2', timestamp: '2023-10-27T10:35:00Z', eventType: 'ROLE_UPDATE', user: { username: 'admin' }, targetUser: { username: 'editor' }, details: { from: 'Editor', to: 'Viewer' } },\r\n    { _id: '3', timestamp: '2023-10-27T10:40:00Z', eventType: 'USER_REGISTER', user: { username: 'newUser' }, details: { role: 'Viewer' } },\r\n    { _id: '4', timestamp: '2023-10-27T09:00:00Z', eventType: 'USER_LOGIN', user: { username: 'editor' }, details: { ip: '10.0.0.5' } },\r\n    { _id: '5', timestamp: '2023-10-26T18:15:00Z', eventType: 'ROLE_UPDATE', user: { username: 'admin' }, targetUser: { username: 'viewer' }, details: { from: 'Viewer', to: 'Editor' } },\r\n    { _id: '6', timestamp: '2023-10-27T11:00:00Z', eventType: 'USER_LOGIN', user: { username: 'admin' }, details: { ip: '192.168.1.1' } },\r\n];\r\n\r\n// --- Theme Classes (Hardcoded Dark) ---\r\nconst themeClasses = {\r\n  layout: \"min-h-screen font-sans transition-colors duration-300 bg-gray-900\",\r\n  nav: \"sticky top-0 z-30 shadow-sm border-b bg-black/20 backdrop-blur-lg text-white border-white/10\",\r\n  card: \"rounded-xl bg-black/20 backdrop-blur-lg border border-white/20 shadow-xl\",\r\n  input: \"w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 transition-all bg-gray-700/50 border-white/20 text-white placeholder-gray-300 focus:ring-blue-500 focus:border-blue-500\",\r\n  text: \"text-white\",\r\n  textMuted: \"text-gray-300\",\r\n  textLabel: \"text-gray-100\",\r\n  textHeading: \"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400\",\r\n  aurora: \"absolute top-0 left-0 w-full h-full overflow-hidden -z-10\",\r\n  solidBg: \"bg-gray-800\",\r\n  solidBorder: \"border-gray-700\"\r\n};\r\n\r\n// --- Auth Context ---\r\nconst AuthContext = createContext(null);\r\n\r\n// --- Axios API Client ---\r\nconst apiClient = axios.create({\r\n  baseURL: 'http://localhost:5001/api',\r\n  withCredentials: true,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const { accessToken } = JSON.parse(localStorage.getItem('auth') || '{}');\r\n    if (accessToken) {\r\n      config.headers['Authorization'] = `Bearer ${accessToken}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      try {\r\n        const { data } = await apiClient.post('/auth/refresh');\r\n        const newAccessToken = data.accessToken;\r\n        \r\n        let authData = JSON.parse(localStorage.getItem('auth') || '{}');\r\n        authData.accessToken = newAccessToken;\r\n        localStorage.setItem('auth', JSON.stringify(authData));\r\n        \r\n        originalRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\r\n        return apiClient(originalRequest);\r\n      } catch (refreshError) {\r\n        localStorage.removeItem('auth');\r\n        window.location.href = '/login';\r\n        return Promise.reject(refreshError);\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// --- AuthProvider Component ---\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const authData = JSON.parse(localStorage.getItem('auth'));\r\n      if (authData && authData.user) {\r\n        setUser(authData.user);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to parse auth data from localStorage');\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const login = (userData) => {\r\n    const authData = {\r\n      accessToken: userData.accessToken,\r\n      user: userData.user,\r\n    };\r\n    localStorage.setItem('auth', JSON.stringify(authData));\r\n    setUser(userData.user);\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await apiClient.post('/auth/logout');\r\n    } catch (error) {\r\n      console.error('Logout failed', error);\r\n    }\r\n    localStorage.removeItem('auth');\r\n    setUser(null);\r\n  };\r\n\r\n  const value = { user, login, logout, loading };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// --- Auth Hooks ---\r\nconst useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nconst usePermissions = () => {\r\n  const { user } = useAuth();\r\n  \r\n  const can = (action, subject) => {\r\n    if (!user) return false;\r\n    \r\n    const [resource, requiredPermission] = action.split(':');\r\n    const userPermissions = PERMISSIONS[user.role]?.[resource] || [];\r\n\r\n    if (userPermissions.includes(requiredPermission) || userPermissions.includes(`${requiredPermission}_all`)) {\r\n      return true;\r\n    }\r\n\r\n    if (userPermissions.includes(`${requiredPermission}_own`)) {\r\n      if (!subject) {\r\n        return true;\r\n      }\r\n      return subject.authorId === user.id;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n  \r\n  const canRead = (resource = 'content') => can(`${resource}:read`);\r\n  const canCreate = (resource = 'content') => can(`${resource}:create`);\r\n  const canUpdate = (subject, resource = 'content') => can(`${resource}:update`, subject);\r\n  const canDelete = (subject, resource = 'content') => can(`${resource}:delete`, subject);\r\n  const canManageUsers = () => can('users:read');\r\n  const canViewAuditLog = () => can('auditlog:read');\r\n\r\n  return { can, canRead, canCreate, canUpdate, canDelete, canManageUsers, canViewAuditLog, userRole: user?.role, userId: user?.id };\r\n};\r\n\r\n// --- UI Components ---\r\n\r\n// Modal\r\nconst Modal = ({ title, children, onClose }) => {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4\">\r\n      <div className={`relative w-full max-w-md p-6 ${themeClasses.card}`}>\r\n        <h3 className={`text-xl font-semibold mb-4 ${themeClasses.text}`}>{title}</h3>\r\n        <div className={themeClasses.textMuted}>\r\n          {children}\r\n        </div>\r\n        <button \r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-200\"\r\n        >\r\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Aurora Background\r\nconst AuroraBackground = () => {\r\n  return (\r\n    <div className={themeClasses.aurora}>\r\n      <style>{`\r\n        .aurora-blur {\r\n          filter: blur(100px);\r\n        }\r\n        .aurora-1 {\r\n          position: absolute;\r\n          width: 500px;\r\n          height: 500px;\r\n          background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, rgba(139, 92, 246, 0) 70%);\r\n          animation: aurora-anim-1 20s infinite alternate;\r\n        }\r\n        .aurora-2 {\r\n          position: absolute;\r\n          width: 400px;\r\n          height: 400px;\r\n          background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, rgba(59, 130, 246, 0) 70%);\r\n          animation: aurora-anim-2 22s infinite alternate;\r\n        }\r\n        .aurora-3 {\r\n          position: absolute;\r\n          width: 300px;\r\n          height: 300px;\r\n          background: radial-gradient(circle, rgba(236, 72, 153, 0.4) 0%, rgba(236, 72, 153, 0) 70%);\r\n          animation: aurora-anim-3 18s infinite alternate;\r\n        }\r\n        @keyframes aurora-anim-1 {\r\n          0% { top: 10%; left: 10%; }\r\n          100% { top: 30%; left: 60%; }\r\n        }\r\n        @keyframes aurora-anim-2 {\r\n          0% { top: 50%; left: 70%; }\r\n          100% { top: 40%; left: 20%; }\r\n        }\r\n        @keyframes aurora-anim-3 {\r\n          0% { top: 80%; left: 40%; }\r\n          100% { top: 60%; left: 80%; }\r\n        }\r\n      `}</style>\r\n      <div className=\"aurora-blur\">\r\n        <div className=\"aurora-1\"></div>\r\n        <div className=\"aurora-2\"></div>\r\n        <div className=\"aurora-3\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Page Components ---\r\n\r\n// Layout\r\nconst Layout = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { canManageUsers } = usePermissions();\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className={themeClasses.layout}>\r\n      <AuroraBackground />\r\n      <nav className={themeClasses.nav}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <Link to=\"/\" className=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500\">\r\n                RBAC Platform\r\n              </Link>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <Link to=\"/\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors\">\r\n                Home\r\n              </Link>\r\n              {canManageUsers() && (\r\n                <Link to=\"/admin\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors\">\r\n                  Admin Panel\r\n                </Link>\r\n              )}\r\n              {user ? (\r\n                <>\r\n                  <span className={`${themeClasses.textMuted} text-sm`}>Hi, {user.username} ({user.role})</span>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-md hover:from-red-600 hover:to-red-700 transition-all duration-300 transform hover:scale-105\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link\r\n                    to=\"/login\"\r\n                    className=\"text-gray-300 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300\"\r\n                  >\r\n                    Login\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/register\"\r\n                    className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\"\r\n                  >\r\n                    Sign Up\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <main className=\"py-10 relative z-10\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <Outlet />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Home Page (Content List)\r\nconst HomePage = () => {\r\n  const [content, setContent] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const { canCreate } = usePermissions();\r\n  \r\n  const fetchContent = async () => {\r\n    try {\r\n      setError(null);\r\n      const { data } = await apiClient.get('/content');\r\n      setContent(data);\r\n    } catch (err) {\r\n      setError('Failed to fetch content.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <h1 className={`text-4xl font-bold ${themeClasses.text}`}>Content Feed</h1>\r\n        {canCreate() && (\r\n          <Link \r\n            to=\"/create\" \r\n            className=\"bg-gradient-to-r from-green-500 to-green-600 text-white px-5 py-2.5 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105\"\r\n          >\r\n            + Create New Post\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div className=\"space-y-6\">\r\n        {content.length > 0 ? content.map((item) => (\r\n          <ContentItem key={item._id} item={item} onDelete={fetchContent} />\r\n        )) : (\r\n          <p className={`${themeClasses.textMuted} text-center`}>No content yet. Be the first to create a post!</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Content Item\r\nconst ContentItem = ({ item, onDelete }) => {\r\n  const { canUpdate, canDelete } = usePermissions();\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [deleteError, setDeleteError] = useState(null);\r\n  \r\n  const subject = { authorId: item.author?._id };\r\n  const canEdit = canUpdate(subject);\r\n  const canRemove = canDelete(subject);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      setDeleteError(null);\r\n      await apiClient.delete(`/content/${item._id}`);\r\n      setShowConfirm(false);\r\n      onDelete();\r\n    } catch (err) {\r\n      setDeleteError('Failed to delete post.');\r\n      console.error(err);\r\n      setShowConfirm(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={`p-6 transition-all duration-300 ${themeClasses.card}`}>\r\n        <div className=\"flex justify-between items-start\">\r\n          <div>\r\n            <h2 className={`text-2xl font-semibold ${themeClasses.text} mb-2`}>{item.title}</h2>\r\n            <p className={`${themeClasses.textMuted} text-sm mb-4`}>\r\n              By <span className={`font-medium ${themeClasses.textLabel}`}>{item.author?.username || 'Unknown Author'}</span>\r\n            </p>\r\n          </div>\r\n          <div className=\"flex space-x-2 flex-shrink-0 ml-4\">\r\n            {canEdit && (\r\n              <Link \r\n                to={`/edit/${item._id}`}\r\n                className=\"text-sm bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-4 py-2 rounded-lg shadow-md hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 transform hover:scale-105\"\r\n                title=\"Edit this post\"\r\n              >\r\n                Edit\r\n              </Link>\r\n            )}\r\n            {canRemove && (\r\n              <button\r\n                onClick={() => setShowConfirm(true)}\r\n                className=\"text-sm bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg shadow-md hover:from-red-600 hover:to-red-700 transition-all duration-300 transform hover:scale-105\"\r\n                title=\"Delete this post\"\r\n              >\r\n                Delete\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <p className={`${themeClasses.textMuted} leading-relaxed`}>{item.body}</p>\r\n        {deleteError && <p className=\"text-red-500 text-sm mt-4\">{deleteError}</p>}\r\n      </div>\r\n\r\n      {showConfirm && (\r\n        <Modal title=\"Delete Post?\" onClose={() => setShowConfirm(false)}>\r\n          <p>Are you sure you want to delete the post titled \"{item.title}\"? This action cannot be undone.</p>\r\n          <div className=\"flex justify-end space-x-3 mt-6\">\r\n            <button\r\n              onClick={() => setShowConfirm(false)}\r\n              className=\"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Form Wrapper Component\r\nconst AuthFormWrapper = ({ title, children }) => {\r\n  return (\r\n    <div className={`max-w-md mx-auto p-8 md:p-10 ${themeClasses.card}`}>\r\n      <h2 className={`text-center mb-8 ${themeClasses.textHeading}`}>\r\n        {title}\r\n      </h2>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Login Page\r\nconst LoginPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    try {\r\n      const { data } = await apiClient.post('/auth/login', { username, password });\r\n      login(data);\r\n      if (data.user.role === ROLES.Admin) {\r\n        navigate('/admin');\r\n      } else {\r\n        navigate('/');\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Invalid username or password.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const fillDemoUser = (user, pass) => {\r\n    setUsername(user);\r\n    setPassword(pass);\r\n  };\r\n\r\n  return (\r\n    <AuthFormWrapper title=\"Welcome Back!\">\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4 text-sm\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\"\r\n        >\r\n          Login\r\n        </button>\r\n      </form>\r\n      <div className=\"mt-6 text-center\">\r\n        <p className={`mb-3 ${themeClasses.textMuted} text-sm`}>Or try a demo user:</p>\r\n        <div className=\"grid grid-cols-3 gap-3\">\r\n          <button \r\n            onClick={() => fillDemoUser('admin', 'adminpassword')}\r\n            className=\"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-purple-500 to-indigo-500 shadow-md hover:scale-105 transform transition-all\"\r\n          >\r\n            Admin\r\n          </button>\r\n          <button \r\n            onClick={() => fillDemoUser('editor', 'editorpassword')}\r\n            className=\"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-cyan-500 to-blue-500 shadow-md hover:scale-105 transform transition-all\"\r\n          >\r\n            Editor\r\n          </button>\r\n          <button \r\n            onClick={() => fillDemoUser('viewer', 'viewerpassword')}\r\n            className=\"px-4 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-green-500 to-teal-500 shadow-md hover:scale-105 transform transition-all\"\r\n          >\r\n            Viewer\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className={`mt-6 text-center text-sm ${themeClasses.textMuted}`}>\r\n        Don't have an account?{' '}\r\n        <Link to=\"/register\" className=\"font-medium text-blue-500 hover:text-blue-400\">\r\n          Sign Up\r\n        </Link>\r\n      </p>\r\n    </AuthFormWrapper>\r\n  );\r\n};\r\n\r\n// Register Page\r\nconst RegisterPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState(ROLES.Viewer);\r\n  const [error, setError] = useState(null);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    try {\r\n      const { data } = await apiClient.post('/auth/register', { username, password, role });\r\n      login(data);\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to register. Username might be taken.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthFormWrapper title=\"Create Your Account\">\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4 text-sm\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-6\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"role\">Register as:</label>\r\n          <select\r\n            id=\"role\"\r\n            value={role}\r\n            onChange={(e) => setRole(e.target.value)}\r\n            className={themeClasses.input}\r\n          >\r\n            <option className=\"bg-gray-700 text-white\" value={ROLES.Viewer}>Viewer</option>\r\n            <option className=\"bg-gray-700 text-white\" value={ROLES.Editor}>Editor</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105\"\r\n        >\r\n          Register\r\n        </button>\r\n      </form>\r\n      <p className={`mt-6 text-center text-sm ${themeClasses.textMuted}`}>\r\n        Already have an account?{' '}\r\n        <Link to=\"/login\" className=\"font-medium text-blue-500 hover:text-blue-400\">\r\n          Login\r\n        </Link>\r\n      </p>\r\n    </AuthFormWrapper>\r\n  );\r\n};\r\n\r\n// AdminDashboard Page\r\nconst AdminDashboard = () => {\r\n  const AdminButton = ({ to, title, description, icon }) => (\r\n    <Link \r\n      to={to} \r\n      className={`block p-6 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl ${themeClasses.card}`}\r\n    >\r\n      <div className=\"flex items-center space-x-4\">\r\n        <div className=\"p-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white\">\r\n          {icon}\r\n        </div>\r\n        <div>\r\n          <h3 className={`text-xl font-semibold ${themeClasses.text}`}>{title}</h3>\r\n          <p className={themeClasses.textMuted}>{description}</p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <h2 className={`text-4xl font-bold mb-8 text-center ${themeClasses.textHeading}`}>Admin Dashboard</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <AdminButton \r\n          to=\"/\"\r\n          title=\"Manage Content Feed\"\r\n          description=\"View, edit, and delete all posts.\"\r\n          icon={<svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 12h6M7 8h6\"></path></svg>}\r\n        />\r\n        <AdminButton \r\n          to=\"/admin/users\"\r\n          title=\"Manage Users\"\r\n          description=\"View all users and change their roles.\"\r\n          icon={<svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 016-6h6m6 3a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg>}\r\n        />\r\n        <AdminButton \r\n          to=\"/admin/audit\"\r\n          title=\"View Audit Log\"\r\n          description=\"See a log of important system events.\"\r\n          icon={<svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg>}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// Admin Page (User Management)\r\nconst AdminPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [editingRole, setEditingRole] = useState({});\r\n  const [updateError, setUpdateError] = useState(null);\r\n  const { userId: adminUserId } = usePermissions();\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setError(null);\r\n      const { data } = await apiClient.get('/users');\r\n      setUsers(data);\r\n    } catch (err) {\r\n      setError('Failed to fetch users.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleRoleChange = (userId, newRole) => {\r\n    setEditingRole(prev => ({ ...prev, [userId]: newRole }));\r\n  };\r\n  \r\n  const handleSaveRole = async (userId) => {\r\n    const newRole = editingRole[userId];\r\n    if (!newRole) return;\r\n    \r\n    setUpdateError(null);\r\n    try {\r\n      await apiClient.put(`/users/${userId}/role`, { role: newRole });\r\n      setEditingRole(prev => {\r\n        const newState = { ...prev };\r\n        delete newState[userId];\r\n        return newState;\r\n      });\r\n      fetchUsers();\r\n    } catch (err) {\r\n      setUpdateError('Failed to update role.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={`max-w-4xl mx-auto p-8 ${themeClasses.card}`}>\r\n      <h2 className={`text-center mb-6 ${themeClasses.textHeading}`}>User Management</h2>\r\n      {updateError && <p className=\"text-red-500 text-center mb-4 text-sm\">{updateError}</p>}\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full table-auto min-w-max\">\r\n          <thead>\r\n            <tr className={`bg-gray-700/50 text-left ${themeClasses.textLabel} uppercase text-sm`}>\r\n              <th className=\"px-6 py-3 font-semibold\">Username</th>\r\n              <th className=\"px-6 py-3 font-semibold\">Role</th>\r\n              <th className=\"px-6 py-3 font-semibold\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className={themeClasses.textMuted}>\r\n            {users.map((user) => (\r\n              <tr key={user._id} className={`border-b ${themeClasses.solidBorder} hover:bg-gray-700/50`}>\r\n                <td className=\"px-6 py-4\">{user.username}</td>\r\n                <td className=\"px-6 py-4\">{user.role}</td>\r\n                <td className=\"px-6 py-4 flex items-center space-x-3\">\r\n                  <select\r\n                    value={editingRole[user._id] || user.role}\r\n                    onChange={(e) => handleRoleChange(user._id, e.target.value)}\r\n                    disabled={user._id === adminUserId}\r\n                    className={`${themeClasses.input} ${user._id === adminUserId ? 'bg-gray-600/50' : ''}`}\r\n                  >\r\n                    {Object.values(ROLES).map((role) => (\r\n                      <option \r\n                        key={role} \r\n                        value={role} \r\n                        className=\"bg-gray-700 text-white\"\r\n                      >\r\n                        {role}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  {editingRole[user._id] && editingRole[user._id] !== user.role && (\r\n                    <button\r\n                      onClick={() => handleSaveRole(user._id)}\r\n                      className=\"px-4 py-2 rounded-lg bg-green-600 text-white text-sm hover:bg-green-700\"\r\n                    >\r\n                      Save\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// AuditLogPage\r\n// AuditLogPage\r\nconst AuditLogPage = () => {\r\n  const [logs, setLogs] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch function\r\n  const fetchLogs = async () => {\r\n    try {\r\n      setError(null);\r\n      const { data } = await apiClient.get('/audit-logs'); // calls http://localhost:5001/api/audit-logs\r\n      // Optional: if backend returns timestamps, convert to ISO or leave as-is\r\n      // Ensure newest first (backend already sorts, but just in case)\r\n      const sorted = Array.isArray(data) ? data.sort((a, b) => new Date(b.timestamp || b.createdAt) - new Date(a.timestamp || a.createdAt)) : [];\r\n      setLogs(sorted);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('Failed to fetch audit logs', err);\r\n      setError(err.response?.data?.message || 'Failed to fetch audit logs.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLogs();\r\n\r\n    // Polling interval: update every 5 seconds (tune as needed)\r\n    const interval = setInterval(fetchLogs, 5000);\r\n\r\n    // Cleanup on unmount\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const renderLogDetails = (log) => {\r\n    // Match your backend fields (server.js formats logs with type, adminUsername, targetUsername, oldRole, newRole)\r\n    switch (log.type) {\r\n      case 'ROLE_CHANGE':\r\n        return `${log.adminUsername || 'Someone'} changed ${log.targetUsername || 'a user'}'s role from ${log.oldRole || 'N/A'} to ${log.newRole || 'N/A'}.`;\r\n      case 'USER_LOGIN':\r\n        return `${log.adminUsername || log.targetUsername || 'User'} logged in.`;\r\n      case 'USER_REGISTER':\r\n        return `${log.adminUsername || log.targetUsername || 'User'} registered a new account.`;\r\n      default:\r\n        return 'Performed an action.';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`max-w-4xl mx-auto p-8 ${themeClasses.card}`}>\r\n      <h2 className={`text-center mb-6 ${themeClasses.textHeading}`}>Audit Log (Recent)</h2>\r\n\r\n      {loading && <p className={`${themeClasses.textMuted} text-center`}>Loading audit logs...</p>}\r\n      {error && <p className=\"text-red-500 text-center mb-4 text-sm\">{error}</p>}\r\n\r\n      <div className=\"space-y-4\">\r\n        {logs.length > 0 ? logs.map(log => (\r\n          <div key={log._id || log.id} className=\"p-4 rounded-lg bg-gray-700/50\">\r\n            <p className={themeClasses.text}>\r\n              <span className=\"font-semibold text-blue-400\">{log.adminUsername || log.targetUsername || 'System'}</span> {renderLogDetails(log)}\r\n            </p>\r\n            <p className={`text-sm ${themeClasses.textMuted} mt-1`}>\r\n              {new Date(log.timestamp || log.createdAt).toLocaleString()}\r\n            </p>\r\n          </div>\r\n        )) : (\r\n          !loading && <p className={themeClasses.textMuted}>No audit logs found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n// Form Wrapper for Content\r\nconst ContentFormWrapper = ({ title, children }) => {\r\n  return (\r\n    <div className={`max-w-2xl mx-auto p-8 md:p-10 ${themeClasses.card}`}>\r\n      <h2 className={`text-center mb-8 ${themeClasses.textHeading}`}>\r\n        {title}\r\n      </h2>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\n// CreatePostPage\r\nconst CreatePostPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!title || !body) {\r\n      setError('Title and body are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await apiClient.post('/content', { title, body });\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to create post.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ContentFormWrapper title=\"Create New Post\">\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4 text-sm\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"body\">Body</label>\r\n          <textarea\r\n            id=\"body\"\r\n            rows=\"10\"\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\"\r\n        >\r\n          Publish Post\r\n        </button>\r\n      </form>\r\n    </ContentFormWrapper>\r\n  );\r\n};\r\n\r\n// EditPostPage\r\nconst EditPostPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        const { data } = await apiClient.get(`/content/${id}`);\r\n        setTitle(data.title);\r\n        setBody(data.body);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch post data. You may not have permission to edit this.');\r\n        console.error(err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchPost();\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!title || !body) {\r\n      setError('Title and body are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await apiClient.put(`/content/${id}`, { title, body });\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to update post.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className={`text-center ${themeClasses.textMuted}`}>Loading post...</div>;\r\n  }\r\n  \r\n  if (error && !title) {\r\n     return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <ContentFormWrapper title=\"Edit Post\">\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4 text-sm\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className={`block mb-2 font-medium ${themeClasses.textLabel}`} htmlFor=\"body\">Body</label>\r\n          <textarea\r\n            id=\"body\"\r\n            rows=\"10\"\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            className={themeClasses.input}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2.5 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\"\r\n        >\r\n          Update Post\r\n        </button>\r\n      </form>\r\n    </ContentFormWrapper>\r\n  );\r\n};\r\n\r\n// Unauthorized Page\r\nconst UnauthorizedPage = () => {\r\n  return (\r\n    <div className={`text-center p-10 max-w-lg mx-auto ${themeClasses.card}`}>\r\n      <h1 className=\"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-yellow-500\">Access Denied</h1>\r\n      <p className={`mt-6 text-xl ${themeClasses.textMuted}`}>You do not have the required permissions to view this page.</p>\r\n      <Link to=\"/\" className=\"mt-8 inline-block bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg shadow-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105\">\r\n        Go Back to Home\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Protected Route Component ---\r\nconst ProtectedRoute = ({ allowedRoles }) => {\r\n  const { user } = useAuth();\r\n  const location = useLocation();\r\n  const { userRole } = usePermissions();\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (allowedRoles && !allowedRoles.includes(userRole)) {\r\n    return <Navigate to=\"/unauthorized\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return <Outlet />;\r\n};\r\n\r\n// --- App Component ---\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Layout />}>\r\n            \r\n            {/* Public Routes */}\r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/register\" element={<RegisterPage />} />\r\n            <Route path=\"/unauthorized\" element={<UnauthorizedPage />} />\r\n            \r\n            {/* Protected Routes (All logged-in users) */}\r\n            <Route element={<ProtectedRoute />}>\r\n              <Route index element={<HomePage />} />\r\n            </Route>\r\n            \r\n            {/* Protected Routes (Editors & Admins) */}\r\n            <Route element={<ProtectedRoute allowedRoles={[ROLES.Admin, ROLES.Editor]} />}>\r\n              <Route path=\"create\" element={<CreatePostPage />} />\r\n              <Route path=\"edit/:id\" element={<EditPostPage />} />\r\n            </Route>\r\n            \r\n            {/* Protected Routes (Admins Only) */}\r\n            <Route element={<ProtectedRoute allowedRoles={[ROLES.Admin]} />}>\r\n              <Route path=\"admin\" element={<AdminDashboard />} />\r\n              <Route path=\"admin/users\" element={<AdminPage />} />\r\n              <Route path=\"admin/audit\" element={<AuditLogPage />} />\r\n            </Route>\r\n\r\n          </Route>\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}