{"ast":null,"code":"var _jsxFileName = \"C:\\\\codes\\\\Project FSD\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$(),\n  _s1 = $RefreshSig$(),\n  _s10 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { BrowserRouter, Routes, Route, Link, useNavigate, Outlet, useLocation, Navigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\n// --- Configuration ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROLES = {\n  Admin: 'Admin',\n  Editor: 'Editor',\n  Viewer: 'Viewer'\n};\n\n// Simplified permission definitions (for frontend checks)\nconst PERMISSIONS = {\n  [ROLES.Admin]: {\n    content: ['create', 'read', 'update_all', 'delete_all'],\n    users: ['read', 'update', 'delete']\n  },\n  [ROLES.Editor]: {\n    content: ['create', 'read', 'update_own', 'delete_own'],\n    users: []\n  },\n  [ROLES.Viewer]: {\n    content: ['read'],\n    users: []\n  }\n};\n\n// --- Auth Context ---\nconst AuthContext = /*#__PURE__*/createContext(null);\n\n// --- Axios API Client ---\nconst apiClient = axios.create({\n  baseURL: 'http://localhost:5001/api',\n  withCredentials: true\n});\napiClient.interceptors.request.use(config => {\n  const {\n    accessToken\n  } = JSON.parse(localStorage.getItem('auth') || '{}');\n  if (accessToken) {\n    config.headers['Authorization'] = `Bearer ${accessToken}`;\n  }\n  return config;\n}, error => Promise.reject(error));\napiClient.interceptors.response.use(response => response, async error => {\n  var _error$response;\n  const originalRequest = error.config;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/refresh');\n      const newAccessToken = data.accessToken;\n      let authData = JSON.parse(localStorage.getItem('auth') || '{}');\n      authData.accessToken = newAccessToken;\n      localStorage.setItem('auth', JSON.stringify(authData));\n      originalRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\n      return apiClient(originalRequest);\n    } catch (refreshError) {\n      localStorage.removeItem('auth');\n      window.location.href = '/login';\n      return Promise.reject(refreshError);\n    }\n  }\n  return Promise.reject(error);\n});\n\n// --- AuthProvider Component ---\nconst AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    try {\n      const authData = JSON.parse(localStorage.getItem('auth'));\n      if (authData && authData.user) {\n        setUser(authData.user);\n      }\n    } catch (error) {\n      console.error('Failed to parse auth data from localStorage');\n    }\n    setLoading(false);\n  }, []);\n  const login = userData => {\n    const authData = {\n      accessToken: userData.accessToken,\n      user: userData.user\n    };\n    localStorage.setItem('auth', JSON.stringify(authData));\n    setUser(userData.user);\n  };\n  const logout = async () => {\n    try {\n      await apiClient.post('/auth/logout');\n    } catch (error) {\n      console.error('Logout failed', error);\n    }\n    localStorage.removeItem('auth');\n    setUser(null);\n  };\n  const value = {\n    user,\n    login,\n    logout,\n    loading\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: !loading && children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Auth Hooks ---\n_s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n_c = AuthProvider;\nconst useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst usePermissions = () => {\n  _s3();\n  const {\n    user\n  } = useAuth();\n  const can = (action, subject) => {\n    var _PERMISSIONS$user$rol;\n    if (!user) return false;\n    const [resource, requiredPermission] = action.split(':');\n    const userPermissions = ((_PERMISSIONS$user$rol = PERMISSIONS[user.role]) === null || _PERMISSIONS$user$rol === void 0 ? void 0 : _PERMISSIONS$user$rol[resource]) || [];\n    if (userPermissions.includes(requiredPermission) || userPermissions.includes(`${requiredPermission}_all`)) {\n      return true;\n    }\n    if (userPermissions.includes(`${requiredPermission}_own`)) {\n      if (!subject) {\n        return true;\n      }\n      return subject.authorId === user.id;\n    }\n    return false;\n  };\n  const canRead = (resource = 'content') => can(`${resource}:read`);\n  const canCreate = (resource = 'content') => can(`${resource}:create`);\n  const canUpdate = (subject, resource = 'content') => can(`${resource}:update`, subject);\n  const canDelete = (subject, resource = 'content') => can(`${resource}:delete`, subject);\n  const canManageUsers = () => can('users:read');\n  return {\n    can,\n    canRead,\n    canCreate,\n    canUpdate,\n    canDelete,\n    canManageUsers,\n    userRole: user === null || user === void 0 ? void 0 : user.role,\n    userId: user === null || user === void 0 ? void 0 : user.id\n  };\n};\n\n// --- Page Components ---\n\n// Layout\n_s3(usePermissions, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\nconst Layout = () => {\n  _s4();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const {\n    canManageUsers\n  } = usePermissions();\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-white shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-2xl font-bold text-blue-600\",\n              children: \"RBAC Content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-gray-600 hover:text-blue-600\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), canManageUsers() && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin\",\n              className: \"text-gray-600 hover:text-blue-600\",\n              children: \"Admin Panel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition\",\n              children: [\"Logout (\", user.username, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              className: \"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"py-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n};\n\n// Home Page (Content List)\n_s4(Layout, \"DiHcinxUASZKIXPNCfNFo0NVyaI=\", false, function () {\n  return [useAuth, useNavigate, usePermissions];\n});\n_c2 = Layout;\nconst HomePage = () => {\n  _s5();\n  const [content, setContent] = useState([]);\n  const [error, setError] = useState(null);\n  const {\n    canCreate\n  } = usePermissions();\n  const fetchContent = async () => {\n    try {\n      setError(null);\n      const {\n        data\n      } = await apiClient.get('/content');\n      setContent(data);\n    } catch (err) {\n      setError('Failed to fetch content.');\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    fetchContent();\n  }, []);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold\",\n        children: \"Content Feed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), canCreate() && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/create\",\n        className: \"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition\",\n        children: \"+ Create New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: content.map(item => /*#__PURE__*/_jsxDEV(ContentItem, {\n        item: item,\n        onDelete: fetchContent\n      }, item._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n};\n\n// Content Item\n_s5(HomePage, \"3a8c7mspEVCt9plabnx9Qt2v6BE=\", false, function () {\n  return [usePermissions];\n});\n_c3 = HomePage;\nconst ContentItem = ({\n  item,\n  onDelete\n}) => {\n  _s6();\n  const {\n    canUpdate,\n    canDelete\n  } = usePermissions();\n  const subject = {\n    authorId: item.author._id\n  };\n  const canEdit = canUpdate(subject);\n  const canRemove = canDelete(subject);\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this post?')) {\n      try {\n        await apiClient.delete(`/content/${item._id}`);\n        onDelete();\n      } catch (err) {\n        alert('Failed to delete post.');\n        console.error(err);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 right-4 flex space-x-2\",\n      children: [canEdit && /*#__PURE__*/_jsxDEV(Link, {\n        to: `/edit/${item._id}`,\n        className: \"text-sm bg-yellow-400 text-white px-3 py-1 rounded-lg hover:bg-yellow-500\",\n        title: \"Edit this post\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), canRemove && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"text-sm bg-red-400 text-white px-3 py-1 rounded-lg hover:bg-red-500\",\n        title: \"Delete this post\",\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-2\",\n      children: item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 text-sm mb-4\",\n      children: [\"By \", item.author.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-700\",\n      children: item.body\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n\n// Login Page\n_s6(ContentItem, \"/x7EkCq9oAh9J40UFbquM/FU7so=\", false, function () {\n  return [usePermissions];\n});\n_c4 = ContentItem;\nconst LoginPage = () => {\n  _s7();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/login', {\n        username,\n        password\n      });\n      login(data);\n      navigate('/');\n    } catch (err) {\n      setError('Invalid username or password.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-6\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold mb-2\",\n        children: \"Demo Users:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-disc list-inside text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"admin / adminpassword\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"editor / editorpassword\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"viewer / viewerpassword\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 340,\n    columnNumber: 5\n  }, this);\n};\n\n// Register Page\n_s7(LoginPage, \"9moAHKcEr28kYMjK2qiny1DsrE4=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c5 = LoginPage;\nconst RegisterPage = () => {\n  _s8();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      const {\n        data\n      } = await apiClient.post('/auth/register', {\n        username,\n        password\n      });\n      login(data);\n      navigate('/');\n    } catch (err) {\n      setError('Failed to register. Username might be taken.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-6\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 405,\n    columnNumber: 5\n  }, this);\n};\n\n// Admin Page\n_s8(RegisterPage, \"9moAHKcEr28kYMjK2qiny1DsrE4=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c6 = RegisterPage;\nconst AdminPage = () => {\n  _s9();\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  const fetchUsers = async () => {\n    try {\n      setError(null);\n      const {\n        data\n      } = await apiClient.get('/users');\n      setUsers(data);\n    } catch (err) {\n      setError('Failed to fetch users.');\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const handleRoleChange = async (userId, newRole) => {\n    try {\n      await apiClient.put(`/users/${userId}/role`, {\n        role: newRole\n      });\n      fetchUsers();\n    } catch (err) {\n      alert('Failed to update role.');\n      console.error(err);\n    }\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"w-full table-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"bg-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"px-4 py-2 text-left\",\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: user.role\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-4 py-2\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: user.role,\n              onChange: e => handleRoleChange(user._id, e.target.value),\n              className: \"px-2 py-1 border rounded-lg\",\n              children: Object.values(ROLES).map(role => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: role,\n                children: role\n              }, role, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 475,\n    columnNumber: 5\n  }, this);\n};\n\n// CreatePostPage\n_s9(AdminPage, \"W8dPUmt9Ai9400zDPm7RH8jUmB4=\");\n_c7 = AdminPage;\nconst CreatePostPage = () => {\n  _s0();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    if (!title || !body) {\n      setError('Title and body are required.');\n      return;\n    }\n    try {\n      await apiClient.post('/content', {\n        title,\n        body\n      });\n      navigate('/');\n    } catch (err) {\n      setError('Failed to create post.');\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-6\",\n      children: \"Create New Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"body\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"body\",\n          rows: \"10\",\n          value: body,\n          onChange: e => setBody(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\",\n        children: \"Publish Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 533,\n    columnNumber: 5\n  }, this);\n};\n\n// EditPostPage\n_s0(CreatePostPage, \"bm2IKmFZccU/natvDxr4F8Pnawc=\", false, function () {\n  return [useNavigate];\n});\n_c8 = CreatePostPage;\nconst EditPostPage = () => {\n  _s1();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const {\n          data\n        } = await apiClient.get(`/content/${id}`);\n        setTitle(data.title);\n        setBody(data.body);\n        setLoading(false);\n      } catch (err) {\n        setError('Failed to fetch post data.');\n        console.error(err);\n        setLoading(false);\n      }\n    };\n    fetchPost();\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    if (!title || !body) {\n      setError('Title and body are required.');\n      return;\n    }\n    try {\n      await apiClient.put(`/content/${id}`, {\n        title,\n        body\n      });\n      navigate('/');\n    } catch (err) {\n      setError('Failed to update post.');\n      console.error(err);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: \"Loading post...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 12\n    }, this);\n  }\n  if (error && !title) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-center mb-6\",\n      children: \"Edit Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 mb-2\",\n          htmlFor: \"body\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"body\",\n          rows: \"10\",\n          value: body,\n          onChange: e => setBody(e.target.value),\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\",\n        children: \"Update Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 618,\n    columnNumber: 5\n  }, this);\n};\n\n// Unauthorized Page\n_s1(EditPostPage, \"ilVgnhi4OrgSq5WncZE7g+7CwBk=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c9 = EditPostPage;\nconst UnauthorizedPage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold text-red-500\",\n      children: \"Access Denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4 text-xl\",\n      children: \"You do not have permission to view this page.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"mt-6 inline-block text-blue-500 hover:underline\",\n      children: \"Go back to Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 656,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Protected Route Component ---\n_c0 = UnauthorizedPage;\nconst ProtectedRoute = ({\n  allowedRoles\n}) => {\n  _s10();\n  const {\n    user\n  } = useAuth();\n  const location = useLocation();\n  const {\n    userRole\n  } = usePermissions();\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 12\n    }, this);\n  }\n  if (allowedRoles && !allowedRoles.includes(userRole)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/unauthorized\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 675,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 678,\n    columnNumber: 10\n  }, this);\n};\n\n// --- App Component ---\n_s10(ProtectedRoute, \"mY78XIREVb2K+tg9g3GlF++YEw4=\", false, function () {\n  return [useAuth, useLocation, usePermissions];\n});\n_c1 = ProtectedRoute;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Layout, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 36\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 46\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/unauthorized\",\n            element: /*#__PURE__*/_jsxDEV(UnauthorizedPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 29\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Route, {\n              index: true,\n              element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              allowedRoles: [ROLES.Admin, ROLES.Editor]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 29\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"create\",\n              element: /*#__PURE__*/_jsxDEV(CreatePostPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"edit/:id\",\n              element: /*#__PURE__*/_jsxDEV(EditPostPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              allowedRoles: [ROLES.Admin]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 29\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Route, {\n              path: \"admin\",\n              element: /*#__PURE__*/_jsxDEV(AdminPage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 686,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 684,\n    columnNumber: 5\n  }, this);\n}\n_c10 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"Layout\");\n$RefreshReg$(_c3, \"HomePage\");\n$RefreshReg$(_c4, \"ContentItem\");\n$RefreshReg$(_c5, \"LoginPage\");\n$RefreshReg$(_c6, \"RegisterPage\");\n$RefreshReg$(_c7, \"AdminPage\");\n$RefreshReg$(_c8, \"CreatePostPage\");\n$RefreshReg$(_c9, \"EditPostPage\");\n$RefreshReg$(_c0, \"UnauthorizedPage\");\n$RefreshReg$(_c1, \"ProtectedRoute\");\n$RefreshReg$(_c10, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","BrowserRouter","Routes","Route","Link","useNavigate","Outlet","useLocation","Navigate","useParams","axios","jsxDEV","_jsxDEV","ROLES","Admin","Editor","Viewer","PERMISSIONS","content","users","AuthContext","apiClient","create","baseURL","withCredentials","interceptors","request","use","config","accessToken","JSON","parse","localStorage","getItem","headers","error","Promise","reject","response","_error$response","originalRequest","status","_retry","data","post","newAccessToken","authData","setItem","stringify","refreshError","removeItem","window","location","href","AuthProvider","children","_s","user","setUser","loading","setLoading","console","login","userData","logout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","usePermissions","_s3","can","action","subject","_PERMISSIONS$user$rol","resource","requiredPermission","split","userPermissions","role","includes","authorId","id","canRead","canCreate","canUpdate","canDelete","canManageUsers","userRole","userId","Layout","_s4","navigate","handleLogout","className","to","onClick","username","_c2","HomePage","_s5","setContent","setError","fetchContent","get","err","map","item","ContentItem","onDelete","_id","_c3","_s6","author","canEdit","canRemove","handleDelete","confirm","delete","alert","title","body","_c4","LoginPage","_s7","setUsername","password","setPassword","handleSubmit","e","preventDefault","onSubmit","htmlFor","type","onChange","target","_c5","RegisterPage","_s8","_c6","AdminPage","_s9","setUsers","fetchUsers","handleRoleChange","newRole","put","Object","values","_c7","CreatePostPage","_s0","setTitle","setBody","rows","_c8","EditPostPage","_s1","fetchPost","_c9","UnauthorizedPage","_c0","ProtectedRoute","allowedRoles","_s10","state","from","replace","_c1","App","path","element","index","_c10","$RefreshReg$"],"sources":["C:/codes/Project FSD/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useNavigate,\r\n  Outlet,\r\n  useLocation,\r\n  Navigate,\r\n  useParams,\r\n} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n// --- Configuration ---\r\n\r\nconst ROLES = {\r\n  Admin: 'Admin',\r\n  Editor: 'Editor',\r\n  Viewer: 'Viewer',\r\n};\r\n\r\n// Simplified permission definitions (for frontend checks)\r\nconst PERMISSIONS = {\r\n  [ROLES.Admin]: {\r\n    content: ['create', 'read', 'update_all', 'delete_all'],\r\n    users: ['read', 'update', 'delete'],\r\n  },\r\n  [ROLES.Editor]: {\r\n    content: ['create', 'read', 'update_own', 'delete_own'],\r\n    users: [],\r\n  },\r\n  [ROLES.Viewer]: {\r\n    content: ['read'],\r\n    users: [],\r\n  },\r\n};\r\n\r\n// --- Auth Context ---\r\nconst AuthContext = createContext(null);\r\n\r\n// --- Axios API Client ---\r\nconst apiClient = axios.create({\r\n  baseURL: 'http://localhost:5001/api',\r\n  withCredentials: true,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const { accessToken } = JSON.parse(localStorage.getItem('auth') || '{}');\r\n    if (accessToken) {\r\n      config.headers['Authorization'] = `Bearer ${accessToken}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      try {\r\n        const { data } = await apiClient.post('/auth/refresh');\r\n        const newAccessToken = data.accessToken;\r\n        \r\n        let authData = JSON.parse(localStorage.getItem('auth') || '{}');\r\n        authData.accessToken = newAccessToken;\r\n        localStorage.setItem('auth', JSON.stringify(authData));\r\n        \r\n        originalRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\r\n        return apiClient(originalRequest);\r\n      } catch (refreshError) {\r\n        localStorage.removeItem('auth');\r\n        window.location.href = '/login';\r\n        return Promise.reject(refreshError);\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// --- AuthProvider Component ---\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const authData = JSON.parse(localStorage.getItem('auth'));\r\n      if (authData && authData.user) {\r\n        setUser(authData.user);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to parse auth data from localStorage');\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const login = (userData) => {\r\n    const authData = {\r\n      accessToken: userData.accessToken,\r\n      user: userData.user,\r\n    };\r\n    localStorage.setItem('auth', JSON.stringify(authData));\r\n    setUser(userData.user);\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await apiClient.post('/auth/logout');\r\n    } catch (error) {\r\n      console.error('Logout failed', error);\r\n    }\r\n    localStorage.removeItem('auth');\r\n    setUser(null);\r\n  };\r\n\r\n  const value = { user, login, logout, loading };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// --- Auth Hooks ---\r\nconst useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nconst usePermissions = () => {\r\n  const { user } = useAuth();\r\n  \r\n  const can = (action, subject) => {\r\n    if (!user) return false;\r\n    \r\n    const [resource, requiredPermission] = action.split(':');\r\n    const userPermissions = PERMISSIONS[user.role]?.[resource] || [];\r\n\r\n    if (userPermissions.includes(requiredPermission) || userPermissions.includes(`${requiredPermission}_all`)) {\r\n      return true;\r\n    }\r\n\r\n    if (userPermissions.includes(`${requiredPermission}_own`)) {\r\n      if (!subject) {\r\n        return true;\r\n      }\r\n      return subject.authorId === user.id;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  const canRead = (resource = 'content') => can(`${resource}:read`);\r\n  const canCreate = (resource = 'content') => can(`${resource}:create`);\r\n  const canUpdate = (subject, resource = 'content') => can(`${resource}:update`, subject);\r\n  const canDelete = (subject, resource = 'content') => can(`${resource}:delete`, subject);\r\n  const canManageUsers = () => can('users:read');\r\n\r\n\r\n  return { can, canRead, canCreate, canUpdate, canDelete, canManageUsers, userRole: user?.role, userId: user?.id };\r\n};\r\n\r\n// --- Page Components ---\r\n\r\n// Layout\r\nconst Layout = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { canManageUsers } = usePermissions();\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 font-sans\">\r\n      <nav className=\"bg-white shadow-md\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <Link to=\"/\" className=\"text-2xl font-bold text-blue-600\">RBAC Content</Link>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <Link to=\"/\" className=\"text-gray-600 hover:text-blue-600\">Home</Link>\r\n              {canManageUsers() && (\r\n                <Link to=\"/admin\" className=\"text-gray-600 hover:text-blue-600\">Admin Panel</Link>\r\n              )}\r\n              {user ? (\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition\"\r\n                >\r\n                  Logout ({user.username})\r\n                </button>\r\n              ) : (\r\n                <Link\r\n                  to=\"/login\"\r\n                  className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\"\r\n                >\r\n                  Login\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <main className=\"py-10\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <Outlet />\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Home Page (Content List)\r\nconst HomePage = () => {\r\n  const [content, setContent] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const { canCreate } = usePermissions();\r\n  \r\n  const fetchContent = async () => {\r\n    try {\r\n      setError(null);\r\n      const { data } = await apiClient.get('/content');\r\n      setContent(data);\r\n    } catch (err) {\r\n      setError('Failed to fetch content.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContent();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-4xl font-bold\">Content Feed</h1>\r\n        {canCreate() && (\r\n          <Link \r\n            to=\"/create\" \r\n            className=\"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition\"\r\n          >\r\n            + Create New Post\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div className=\"space-y-6\">\r\n        {content.map((item) => (\r\n          <ContentItem key={item._id} item={item} onDelete={fetchContent} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Content Item\r\nconst ContentItem = ({ item, onDelete }) => {\r\n  const { canUpdate, canDelete } = usePermissions();\r\n  \r\n  const subject = { authorId: item.author._id };\r\n  const canEdit = canUpdate(subject);\r\n  const canRemove = canDelete(subject);\r\n\r\n  const handleDelete = async () => {\r\n    if (window.confirm('Are you sure you want to delete this post?')) {\r\n      try {\r\n        await apiClient.delete(`/content/${item._id}`);\r\n        onDelete();\r\n      } catch (err) {\r\n        alert('Failed to delete post.');\r\n        console.error(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md relative\">\r\n      <div className=\"absolute top-4 right-4 flex space-x-2\">\r\n        {canEdit && (\r\n          <Link \r\n            to={`/edit/${item._id}`}\r\n            className=\"text-sm bg-yellow-400 text-white px-3 py-1 rounded-lg hover:bg-yellow-500\"\r\n            title=\"Edit this post\"\r\n          >\r\n            Edit\r\n          </Link>\r\n        )}\r\n        {canRemove && (\r\n          <button\r\n            onClick={handleDelete}\r\n            className=\"text-sm bg-red-400 text-white px-3 py-1 rounded-lg hover:bg-red-500\"\r\n            title=\"Delete this post\"\r\n          >\r\n            Delete\r\n          </button>\r\n        )}\r\n      </div>\r\n      <h2 className=\"text-2xl font-semibold mb-2\">{item.title}</h2>\r\n      <p className=\"text-gray-500 text-sm mb-4\">By {item.author.username}</p>\r\n      <p className=\"text-gray-700\">{item.body}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Login Page\r\nconst LoginPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    try {\r\n      const { data } = await apiClient.post('/auth/login', { username, password });\r\n      login(data);\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError('Invalid username or password.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h2 className=\"text-3xl font-bold text-center mb-6\">Login</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\"\r\n        >\r\n          Login\r\n        </button>\r\n      </form>\r\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n        <h4 className=\"font-semibold mb-2\">Demo Users:</h4>\r\n        <ul className=\"list-disc list-inside text-sm text-gray-600\">\r\n          <li>admin / adminpassword</li>\r\n          <li>editor / editorpassword</li>\r\n          <li>viewer / viewerpassword</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Register Page\r\nconst RegisterPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    try {\r\n      const { data } = await apiClient.post('/auth/register', { username, password });\r\n      login(data);\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError('Failed to register. Username might be taken.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h2 className=\"text-3xl font-bold text-center mb-6\">Register</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition\"\r\n        >\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Admin Page\r\nconst AdminPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setError(null);\r\n      const { data } = await apiClient.get('/users');\r\n      setUsers(data);\r\n    } catch (err) {\r\n      setError('Failed to fetch users.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleRoleChange = async (userId, newRole) => {\r\n    try {\r\n      await apiClient.put(`/users/${userId}/role`, { role: newRole });\r\n      fetchUsers();\r\n    } catch (err) {\r\n      alert('Failed to update role.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h2 className=\"text-3xl font-bold mb-6\">User Management</h2>\r\n      <table className=\"w-full table-auto\">\r\n        <thead>\r\n          <tr className=\"bg-gray-100\">\r\n            <th className=\"px-4 py-2 text-left\">Username</th>\r\n            <th className=\"px-4 py-2 text-left\">Role</th>\r\n            <th className=\"px-4 py-2 text-left\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user) => (\r\n            <tr key={user._id} className=\"border-b\">\r\n              <td className=\"px-4 py-2\">{user.username}</td>\r\n              <td className=\"px-4 py-2\">{user.role}</td>\r\n              <td className=\"px-4 py-2\">\r\n                <select\r\n                  value={user.role}\r\n                  onChange={(e) => handleRoleChange(user._id, e.target.value)}\r\n                  className=\"px-2 py-1 border rounded-lg\"\r\n                >\r\n                  {Object.values(ROLES).map((role) => (\r\n                    <option key={role} value={role}>{role}</option>\r\n                  ))}\r\n                </select>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\n// CreatePostPage\r\nconst CreatePostPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!title || !body) {\r\n      setError('Title and body are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await apiClient.post('/content', { title, body });\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError('Failed to create post.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h2 className=\"text-3xl font-bold text-center mb-6\">Create New Post</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"body\">Body</label>\r\n          <textarea\r\n            id=\"body\"\r\n            rows=\"10\"\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\"\r\n        >\r\n          Publish Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// EditPostPage\r\nconst EditPostPage = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        const { data } = await apiClient.get(`/content/${id}`);\r\n        setTitle(data.title);\r\n        setBody(data.body);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch post data.');\r\n        console.error(err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchPost();\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    if (!title || !body) {\r\n      setError('Title and body are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await apiClient.put(`/content/${id}`, { title, body });\r\n      navigate('/');\r\n    } catch (err) {\r\n      setError('Failed to update post.');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center\">Loading post...</div>;\r\n  }\r\n  \r\n  if (error && !title) {\r\n     return <p className=\"text-red-500 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h2 className=\"text-3xl font-bold text-center mb-6\">Edit Post</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {error && <p className=\"text-red-500 text-center mb-4\">{error}</p>}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"title\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"body\">Body</label>\r\n          <textarea\r\n            id=\"body\"\r\n            rows=\"10\"\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition\"\r\n        >\r\n          Update Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Unauthorized Page\r\nconst UnauthorizedPage = () => {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <h1 className=\"text-4xl font-bold text-red-500\">Access Denied</h1>\r\n      <p className=\"mt-4 text-xl\">You do not have permission to view this page.</p>\r\n      <Link to=\"/\" className=\"mt-6 inline-block text-blue-500 hover:underline\">Go back to Home</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Protected Route Component ---\r\nconst ProtectedRoute = ({ allowedRoles }) => {\r\n  const { user } = useAuth();\r\n  const location = useLocation();\r\n  const { userRole } = usePermissions();\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (allowedRoles && !allowedRoles.includes(userRole)) {\r\n    return <Navigate to=\"/unauthorized\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return <Outlet />;\r\n};\r\n\r\n// --- App Component ---\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider>\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Layout />}>\r\n            \r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/register\" element={<RegisterPage />} />\r\n            <Route path=\"/unauthorized\" element={<UnauthorizedPage />} />\r\n            \r\n            <Route element={<ProtectedRoute />}>\r\n              <Route index element={<HomePage />} />\r\n            </Route>\r\n            \r\n            <Route element={<ProtectedRoute allowedRoles={[ROLES.Admin, ROLES.Editor]} />}>\r\n              <Route path=\"create\" element={<CreatePostPage />} />\r\n              <Route path=\"edit/:id\" element={<EditPostPage />} />\r\n            </Route>\r\n            \r\n            <Route element={<ProtectedRoute allowedRoles={[ROLES.Admin]} />}>\r\n              <Route path=\"admin\" element={<AdminPage />} />\r\n            </Route>\r\n\r\n          </Route>\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\n"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAC7E,SACEC,aAAa,EACbC,MAAM,EACNC,KAAK,EACLC,IAAI,EACJC,WAAW,EACXC,MAAM,EACNC,WAAW,EACXC,QAAQ,EACRC,SAAS,QACJ,kBAAkB;AACzB,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,MAAMC,KAAK,GAAG;EACZC,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE;AACV,CAAC;;AAED;AACA,MAAMC,WAAW,GAAG;EAClB,CAACJ,KAAK,CAACC,KAAK,GAAG;IACbI,OAAO,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC;IACvDC,KAAK,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ;EACpC,CAAC;EACD,CAACN,KAAK,CAACE,MAAM,GAAG;IACdG,OAAO,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,CAAC;IACvDC,KAAK,EAAE;EACT,CAAC;EACD,CAACN,KAAK,CAACG,MAAM,GAAG;IACdE,OAAO,EAAE,CAAC,MAAM,CAAC;IACjBC,KAAK,EAAE;EACT;AACF,CAAC;;AAED;AACA,MAAMC,WAAW,gBAAGrB,aAAa,CAAC,IAAI,CAAC;;AAEvC;AACA,MAAMsB,SAAS,GAAGX,KAAK,CAACY,MAAM,CAAC;EAC7BC,OAAO,EAAE,2BAA2B;EACpCC,eAAe,EAAE;AACnB,CAAC,CAAC;AAEFH,SAAS,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAK;EACV,MAAM;IAAEC;EAAY,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EACxE,IAAIJ,WAAW,EAAE;IACfD,MAAM,CAACM,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUL,WAAW,EAAE;EAC3D;EACA,OAAOD,MAAM;AACf,CAAC,EACAO,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;AAEDd,SAAS,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAChCW,QAAQ,IAAKA,QAAQ,EACtB,MAAOH,KAAK,IAAK;EAAA,IAAAI,eAAA;EACf,MAAMC,eAAe,GAAGL,KAAK,CAACP,MAAM;EACpC,IAAI,EAAAW,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,MAAK,GAAG,IAAI,CAACD,eAAe,CAACE,MAAM,EAAE;IAC7DF,eAAe,CAACE,MAAM,GAAG,IAAI;IAC7B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMtB,SAAS,CAACuB,IAAI,CAAC,eAAe,CAAC;MACtD,MAAMC,cAAc,GAAGF,IAAI,CAACd,WAAW;MAEvC,IAAIiB,QAAQ,GAAGhB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;MAC/Da,QAAQ,CAACjB,WAAW,GAAGgB,cAAc;MACrCb,YAAY,CAACe,OAAO,CAAC,MAAM,EAAEjB,IAAI,CAACkB,SAAS,CAACF,QAAQ,CAAC,CAAC;MAEtDN,eAAe,CAACN,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUW,cAAc,EAAE;MACrE,OAAOxB,SAAS,CAACmB,eAAe,CAAC;IACnC,CAAC,CAAC,OAAOS,YAAY,EAAE;MACrBjB,YAAY,CAACkB,UAAU,CAAC,MAAM,CAAC;MAC/BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;MAC/B,OAAOjB,OAAO,CAACC,MAAM,CAACY,YAAY,CAAC;IACrC;EACF;EACA,OAAOb,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA,MAAMmB,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAG7D,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC8D,OAAO,EAAEC,UAAU,CAAC,GAAG/D,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMgD,QAAQ,GAAGhB,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACzD,IAAIa,QAAQ,IAAIA,QAAQ,CAACW,IAAI,EAAE;QAC7BC,OAAO,CAACZ,QAAQ,CAACW,IAAI,CAAC;MACxB;IACF,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,6CAA6C,CAAC;IAC9D;IACAyB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,KAAK,GAAIC,QAAQ,IAAK;IAC1B,MAAMjB,QAAQ,GAAG;MACfjB,WAAW,EAAEkC,QAAQ,CAAClC,WAAW;MACjC4B,IAAI,EAAEM,QAAQ,CAACN;IACjB,CAAC;IACDzB,YAAY,CAACe,OAAO,CAAC,MAAM,EAAEjB,IAAI,CAACkB,SAAS,CAACF,QAAQ,CAAC,CAAC;IACtDY,OAAO,CAACK,QAAQ,CAACN,IAAI,CAAC;EACxB,CAAC;EAED,MAAMO,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,IAAI;MACF,MAAM3C,SAAS,CAACuB,IAAI,CAAC,cAAc,CAAC;IACtC,CAAC,CAAC,OAAOT,KAAK,EAAE;MACd0B,OAAO,CAAC1B,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;IACAH,YAAY,CAACkB,UAAU,CAAC,MAAM,CAAC;IAC/BQ,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,MAAMO,KAAK,GAAG;IAAER,IAAI;IAAEK,KAAK;IAAEE,MAAM;IAAEL;EAAQ,CAAC;EAE9C,oBACE/C,OAAA,CAACQ,WAAW,CAAC8C,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAV,QAAA,EAChC,CAACI,OAAO,IAAIJ;EAAQ;IAAAY,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAE3B,CAAC;;AAED;AAAAd,EAAA,CA5CMF,YAAY;AAAAiB,EAAA,GAAZjB,YAAY;AA6ClB,MAAMkB,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACpB,OAAOzE,UAAU,CAACoB,WAAW,CAAC;AAChC,CAAC;AAACqD,GAAA,CAFID,OAAO;AAIb,MAAME,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC3B,MAAM;IAAElB;EAAK,CAAC,GAAGe,OAAO,CAAC,CAAC;EAE1B,MAAMI,GAAG,GAAGA,CAACC,MAAM,EAAEC,OAAO,KAAK;IAAA,IAAAC,qBAAA;IAC/B,IAAI,CAACtB,IAAI,EAAE,OAAO,KAAK;IAEvB,MAAM,CAACuB,QAAQ,EAAEC,kBAAkB,CAAC,GAAGJ,MAAM,CAACK,KAAK,CAAC,GAAG,CAAC;IACxD,MAAMC,eAAe,GAAG,EAAAJ,qBAAA,GAAA9D,WAAW,CAACwC,IAAI,CAAC2B,IAAI,CAAC,cAAAL,qBAAA,uBAAtBA,qBAAA,CAAyBC,QAAQ,CAAC,KAAI,EAAE;IAEhE,IAAIG,eAAe,CAACE,QAAQ,CAACJ,kBAAkB,CAAC,IAAIE,eAAe,CAACE,QAAQ,CAAC,GAAGJ,kBAAkB,MAAM,CAAC,EAAE;MACzG,OAAO,IAAI;IACb;IAEA,IAAIE,eAAe,CAACE,QAAQ,CAAC,GAAGJ,kBAAkB,MAAM,CAAC,EAAE;MACzD,IAAI,CAACH,OAAO,EAAE;QACZ,OAAO,IAAI;MACb;MACA,OAAOA,OAAO,CAACQ,QAAQ,KAAK7B,IAAI,CAAC8B,EAAE;IACrC;IAEA,OAAO,KAAK;EACd,CAAC;EAED,MAAMC,OAAO,GAAGA,CAACR,QAAQ,GAAG,SAAS,KAAKJ,GAAG,CAAC,GAAGI,QAAQ,OAAO,CAAC;EACjE,MAAMS,SAAS,GAAGA,CAACT,QAAQ,GAAG,SAAS,KAAKJ,GAAG,CAAC,GAAGI,QAAQ,SAAS,CAAC;EACrE,MAAMU,SAAS,GAAGA,CAACZ,OAAO,EAAEE,QAAQ,GAAG,SAAS,KAAKJ,GAAG,CAAC,GAAGI,QAAQ,SAAS,EAAEF,OAAO,CAAC;EACvF,MAAMa,SAAS,GAAGA,CAACb,OAAO,EAAEE,QAAQ,GAAG,SAAS,KAAKJ,GAAG,CAAC,GAAGI,QAAQ,SAAS,EAAEF,OAAO,CAAC;EACvF,MAAMc,cAAc,GAAGA,CAAA,KAAMhB,GAAG,CAAC,YAAY,CAAC;EAG9C,OAAO;IAAEA,GAAG;IAAEY,OAAO;IAAEC,SAAS;IAAEC,SAAS;IAAEC,SAAS;IAAEC,cAAc;IAAEC,QAAQ,EAAEpC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE2B,IAAI;IAAEU,MAAM,EAAErC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8B;EAAG,CAAC;AAClH,CAAC;;AAED;;AAEA;AAAAZ,GAAA,CAnCMD,cAAc;EAAA,QACDF,OAAO;AAAA;AAmC1B,MAAMuB,MAAM,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACnB,MAAM;IAAEvC,IAAI;IAAEO;EAAO,CAAC,GAAGQ,OAAO,CAAC,CAAC;EAClC,MAAMyB,QAAQ,GAAG5F,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEuF;EAAe,CAAC,GAAGlB,cAAc,CAAC,CAAC;EAE3C,MAAMwB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMlC,MAAM,CAAC,CAAC;IACdiC,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,oBACErF,OAAA;IAAKuF,SAAS,EAAC,oCAAoC;IAAA5C,QAAA,gBACjD3C,OAAA;MAAKuF,SAAS,EAAC,oBAAoB;MAAA5C,QAAA,eACjC3C,OAAA;QAAKuF,SAAS,EAAC,wCAAwC;QAAA5C,QAAA,eACrD3C,OAAA;UAAKuF,SAAS,EAAC,2BAA2B;UAAA5C,QAAA,gBACxC3C,OAAA;YAAKuF,SAAS,EAAC,mBAAmB;YAAA5C,QAAA,eAChC3C,OAAA,CAACR,IAAI;cAACgG,EAAE,EAAC,GAAG;cAACD,SAAS,EAAC,kCAAkC;cAAA5C,QAAA,EAAC;YAAY;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC,eACN1D,OAAA;YAAKuF,SAAS,EAAC,6BAA6B;YAAA5C,QAAA,gBAC1C3C,OAAA,CAACR,IAAI;cAACgG,EAAE,EAAC,GAAG;cAACD,SAAS,EAAC,mCAAmC;cAAA5C,QAAA,EAAC;YAAI;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EACrEsB,cAAc,CAAC,CAAC,iBACfhF,OAAA,CAACR,IAAI;cAACgG,EAAE,EAAC,QAAQ;cAACD,SAAS,EAAC,mCAAmC;cAAA5C,QAAA,EAAC;YAAW;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAClF,EACAb,IAAI,gBACH7C,OAAA;cACEyF,OAAO,EAAEH,YAAa;cACtBC,SAAS,EAAC,wEAAwE;cAAA5C,QAAA,GACnF,UACS,EAACE,IAAI,CAAC6C,QAAQ,EAAC,GACzB;YAAA;cAAAnC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,gBAET1D,OAAA,CAACR,IAAI;cACHgG,EAAE,EAAC,QAAQ;cACXD,SAAS,EAAC,0EAA0E;cAAA5C,QAAA,EACrF;YAED;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACN1D,OAAA;MAAMuF,SAAS,EAAC,OAAO;MAAA5C,QAAA,eACrB3C,OAAA;QAAKuF,SAAS,EAAC,wCAAwC;QAAA5C,QAAA,eACrD3C,OAAA,CAACN,MAAM;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAA0B,GAAA,CAnDMD,MAAM;EAAA,QACevB,OAAO,EACfnE,WAAW,EACDqE,cAAc;AAAA;AAAA6B,GAAA,GAHrCR,MAAM;AAoDZ,MAAMS,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACrB,MAAM,CAACvF,OAAO,EAAEwF,UAAU,CAAC,GAAG7G,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAE4F;EAAU,CAAC,GAAGf,cAAc,CAAC,CAAC;EAEtC,MAAMkC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACFD,QAAQ,CAAC,IAAI,CAAC;MACd,MAAM;QAAEhE;MAAK,CAAC,GAAG,MAAMtB,SAAS,CAACwF,GAAG,CAAC,UAAU,CAAC;MAChDH,UAAU,CAAC/D,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOmE,GAAG,EAAE;MACZH,QAAQ,CAAC,0BAA0B,CAAC;MACpC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAEDhH,SAAS,CAAC,MAAM;IACd8G,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIzE,KAAK,EAAE;IACT,oBAAOvB,OAAA;MAAGuF,SAAS,EAAC,0BAA0B;MAAA5C,QAAA,EAAEpB;IAAK;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAC5D;EAEA,oBACE1D,OAAA;IAAKuF,SAAS,EAAC,mBAAmB;IAAA5C,QAAA,gBAChC3C,OAAA;MAAKuF,SAAS,EAAC,wCAAwC;MAAA5C,QAAA,gBACrD3C,OAAA;QAAIuF,SAAS,EAAC,oBAAoB;QAAA5C,QAAA,EAAC;MAAY;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACnDmB,SAAS,CAAC,CAAC,iBACV7E,OAAA,CAACR,IAAI;QACHgG,EAAE,EAAC,SAAS;QACZD,SAAS,EAAC,4EAA4E;QAAA5C,QAAA,EACvF;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACN1D,OAAA;MAAKuF,SAAS,EAAC,WAAW;MAAA5C,QAAA,EACvBrC,OAAO,CAAC6F,GAAG,CAAEC,IAAI,iBAChBpG,OAAA,CAACqG,WAAW;QAAgBD,IAAI,EAAEA,IAAK;QAACE,QAAQ,EAAEN;MAAa,GAA7CI,IAAI,CAACG,GAAG;QAAAhD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAuC,CAClE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAAmC,GAAA,CA9CMD,QAAQ;EAAA,QAGU9B,cAAc;AAAA;AAAA0C,GAAA,GAHhCZ,QAAQ;AA+Cd,MAAMS,WAAW,GAAGA,CAAC;EAAED,IAAI;EAAEE;AAAS,CAAC,KAAK;EAAAG,GAAA;EAC1C,MAAM;IAAE3B,SAAS;IAAEC;EAAU,CAAC,GAAGjB,cAAc,CAAC,CAAC;EAEjD,MAAMI,OAAO,GAAG;IAAEQ,QAAQ,EAAE0B,IAAI,CAACM,MAAM,CAACH;EAAI,CAAC;EAC7C,MAAMI,OAAO,GAAG7B,SAAS,CAACZ,OAAO,CAAC;EAClC,MAAM0C,SAAS,GAAG7B,SAAS,CAACb,OAAO,CAAC;EAEpC,MAAM2C,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAItE,MAAM,CAACuE,OAAO,CAAC,4CAA4C,CAAC,EAAE;MAChE,IAAI;QACF,MAAMrG,SAAS,CAACsG,MAAM,CAAC,YAAYX,IAAI,CAACG,GAAG,EAAE,CAAC;QAC9CD,QAAQ,CAAC,CAAC;MACZ,CAAC,CAAC,OAAOJ,GAAG,EAAE;QACZc,KAAK,CAAC,wBAAwB,CAAC;QAC/B/D,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;MACpB;IACF;EACF,CAAC;EAED,oBACElG,OAAA;IAAKuF,SAAS,EAAC,4CAA4C;IAAA5C,QAAA,gBACzD3C,OAAA;MAAKuF,SAAS,EAAC,uCAAuC;MAAA5C,QAAA,GACnDgE,OAAO,iBACN3G,OAAA,CAACR,IAAI;QACHgG,EAAE,EAAE,SAASY,IAAI,CAACG,GAAG,EAAG;QACxBhB,SAAS,EAAC,2EAA2E;QACrF0B,KAAK,EAAC,gBAAgB;QAAAtE,QAAA,EACvB;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CACP,EACAkD,SAAS,iBACR5G,OAAA;QACEyF,OAAO,EAAEoB,YAAa;QACtBtB,SAAS,EAAC,qEAAqE;QAC/E0B,KAAK,EAAC,kBAAkB;QAAAtE,QAAA,EACzB;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACN1D,OAAA;MAAIuF,SAAS,EAAC,6BAA6B;MAAA5C,QAAA,EAAEyD,IAAI,CAACa;IAAK;MAAA1D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC7D1D,OAAA;MAAGuF,SAAS,EAAC,4BAA4B;MAAA5C,QAAA,GAAC,KAAG,EAACyD,IAAI,CAACM,MAAM,CAAChB,QAAQ;IAAA;MAAAnC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvE1D,OAAA;MAAGuF,SAAS,EAAC,eAAe;MAAA5C,QAAA,EAAEyD,IAAI,CAACc;IAAI;MAAA3D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzC,CAAC;AAEV,CAAC;;AAED;AAAA+C,GAAA,CAhDMJ,WAAW;EAAA,QACkBvC,cAAc;AAAA;AAAAqD,GAAA,GAD3Cd,WAAW;AAiDjB,MAAMe,SAAS,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtB,MAAM,CAAC3B,QAAQ,EAAE4B,WAAW,CAAC,GAAGrI,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsI,QAAQ,EAAEC,WAAW,CAAC,GAAGvI,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEiE;EAAM,CAAC,GAAGU,OAAO,CAAC,CAAC;EAC3B,MAAMyB,QAAQ,GAAG5F,WAAW,CAAC,CAAC;EAE9B,MAAMgI,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB5B,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAM;QAAEhE;MAAK,CAAC,GAAG,MAAMtB,SAAS,CAACuB,IAAI,CAAC,aAAa,EAAE;QAAE0D,QAAQ;QAAE6B;MAAS,CAAC,CAAC;MAC5ErE,KAAK,CAACnB,IAAI,CAAC;MACXsD,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZH,QAAQ,CAAC,+BAA+B,CAAC;MACzC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACElG,OAAA;IAAKuF,SAAS,EAAC,oDAAoD;IAAA5C,QAAA,gBACjE3C,OAAA;MAAIuF,SAAS,EAAC,qCAAqC;MAAA5C,QAAA,EAAC;IAAK;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC9D1D,OAAA;MAAM4H,QAAQ,EAAEH,YAAa;MAAA9E,QAAA,GAC1BpB,KAAK,iBAAIvB,OAAA;QAAGuF,SAAS,EAAC,+BAA+B;QAAA5C,QAAA,EAAEpB;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClE1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,UAAU;UAAAlF,QAAA,EAAC;QAAQ;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/E1D,OAAA;UACE8H,IAAI,EAAC,MAAM;UACXnD,EAAE,EAAC,UAAU;UACbtB,KAAK,EAAEqC,QAAS;UAChBqC,QAAQ,EAAGL,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC7CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,UAAU;UAAAlF,QAAA,EAAC;QAAQ;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/E1D,OAAA;UACE8H,IAAI,EAAC,UAAU;UACfnD,EAAE,EAAC,UAAU;UACbtB,KAAK,EAAEkE,QAAS;UAChBQ,QAAQ,EAAGL,CAAC,IAAKF,WAAW,CAACE,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC7CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QACE8H,IAAI,EAAC,QAAQ;QACbvC,SAAS,EAAC,iFAAiF;QAAA5C,QAAA,EAC5F;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACP1D,OAAA;MAAKuF,SAAS,EAAC,gCAAgC;MAAA5C,QAAA,gBAC7C3C,OAAA;QAAIuF,SAAS,EAAC,oBAAoB;QAAA5C,QAAA,EAAC;MAAW;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnD1D,OAAA;QAAIuF,SAAS,EAAC,6CAA6C;QAAA5C,QAAA,gBACzD3C,OAAA;UAAA2C,QAAA,EAAI;QAAqB;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9B1D,OAAA;UAAA2C,QAAA,EAAI;QAAuB;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChC1D,OAAA;UAAA2C,QAAA,EAAI;QAAuB;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAA2D,GAAA,CAhEMD,SAAS;EAAA,QAIKxD,OAAO,EACRnE,WAAW;AAAA;AAAAwI,GAAA,GALxBb,SAAS;AAiEf,MAAMc,YAAY,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACzB,MAAM,CAACzC,QAAQ,EAAE4B,WAAW,CAAC,GAAGrI,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsI,QAAQ,EAAEC,WAAW,CAAC,GAAGvI,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEiE;EAAM,CAAC,GAAGU,OAAO,CAAC,CAAC;EAC3B,MAAMyB,QAAQ,GAAG5F,WAAW,CAAC,CAAC;EAE9B,MAAMgI,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB5B,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAM;QAAEhE;MAAK,CAAC,GAAG,MAAMtB,SAAS,CAACuB,IAAI,CAAC,gBAAgB,EAAE;QAAE0D,QAAQ;QAAE6B;MAAS,CAAC,CAAC;MAC/ErE,KAAK,CAACnB,IAAI,CAAC;MACXsD,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZH,QAAQ,CAAC,8CAA8C,CAAC;MACxD9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACElG,OAAA;IAAKuF,SAAS,EAAC,oDAAoD;IAAA5C,QAAA,gBACjE3C,OAAA;MAAIuF,SAAS,EAAC,qCAAqC;MAAA5C,QAAA,EAAC;IAAQ;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjE1D,OAAA;MAAM4H,QAAQ,EAAEH,YAAa;MAAA9E,QAAA,GAC1BpB,KAAK,iBAAIvB,OAAA;QAAGuF,SAAS,EAAC,+BAA+B;QAAA5C,QAAA,EAAEpB;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClE1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,UAAU;UAAAlF,QAAA,EAAC;QAAQ;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/E1D,OAAA;UACE8H,IAAI,EAAC,MAAM;UACXnD,EAAE,EAAC,UAAU;UACbtB,KAAK,EAAEqC,QAAS;UAChBqC,QAAQ,EAAGL,CAAC,IAAKJ,WAAW,CAACI,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC7CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,UAAU;UAAAlF,QAAA,EAAC;QAAQ;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/E1D,OAAA;UACE8H,IAAI,EAAC,UAAU;UACfnD,EAAE,EAAC,UAAU;UACbtB,KAAK,EAAEkE,QAAS;UAChBQ,QAAQ,EAAGL,CAAC,IAAKF,WAAW,CAACE,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC7CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QACE8H,IAAI,EAAC,QAAQ;QACbvC,SAAS,EAAC,mFAAmF;QAAA5C,QAAA,EAC9F;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAAyE,GAAA,CAxDMD,YAAY;EAAA,QAIEtE,OAAO,EACRnE,WAAW;AAAA;AAAA2I,GAAA,GALxBF,YAAY;AAyDlB,MAAMG,SAAS,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtB,MAAM,CAAC/H,KAAK,EAAEgI,QAAQ,CAAC,GAAGtJ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMuJ,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACFzC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAM;QAAEhE;MAAK,CAAC,GAAG,MAAMtB,SAAS,CAACwF,GAAG,CAAC,QAAQ,CAAC;MAC9CsC,QAAQ,CAACxG,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOmE,GAAG,EAAE;MACZH,QAAQ,CAAC,wBAAwB,CAAC;MAClC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAEDhH,SAAS,CAAC,MAAM;IACdsJ,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAG,MAAAA,CAAOvD,MAAM,EAAEwD,OAAO,KAAK;IAClD,IAAI;MACF,MAAMjI,SAAS,CAACkI,GAAG,CAAC,UAAUzD,MAAM,OAAO,EAAE;QAAEV,IAAI,EAAEkE;MAAQ,CAAC,CAAC;MAC/DF,UAAU,CAAC,CAAC;IACd,CAAC,CAAC,OAAOtC,GAAG,EAAE;MACZc,KAAK,CAAC,wBAAwB,CAAC;MAC/B/D,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAED,IAAI3E,KAAK,EAAE;IACT,oBAAOvB,OAAA;MAAGuF,SAAS,EAAC,0BAA0B;MAAA5C,QAAA,EAAEpB;IAAK;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAC5D;EAEA,oBACE1D,OAAA;IAAKuF,SAAS,EAAC,qDAAqD;IAAA5C,QAAA,gBAClE3C,OAAA;MAAIuF,SAAS,EAAC,yBAAyB;MAAA5C,QAAA,EAAC;IAAe;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5D1D,OAAA;MAAOuF,SAAS,EAAC,mBAAmB;MAAA5C,QAAA,gBAClC3C,OAAA;QAAA2C,QAAA,eACE3C,OAAA;UAAIuF,SAAS,EAAC,aAAa;UAAA5C,QAAA,gBACzB3C,OAAA;YAAIuF,SAAS,EAAC,qBAAqB;YAAA5C,QAAA,EAAC;UAAQ;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjD1D,OAAA;YAAIuF,SAAS,EAAC,qBAAqB;YAAA5C,QAAA,EAAC;UAAI;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7C1D,OAAA;YAAIuF,SAAS,EAAC,qBAAqB;YAAA5C,QAAA,EAAC;UAAO;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACR1D,OAAA;QAAA2C,QAAA,EACGpC,KAAK,CAAC4F,GAAG,CAAEtD,IAAI,iBACd7C,OAAA;UAAmBuF,SAAS,EAAC,UAAU;UAAA5C,QAAA,gBACrC3C,OAAA;YAAIuF,SAAS,EAAC,WAAW;YAAA5C,QAAA,EAAEE,IAAI,CAAC6C;UAAQ;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC9C1D,OAAA;YAAIuF,SAAS,EAAC,WAAW;YAAA5C,QAAA,EAAEE,IAAI,CAAC2B;UAAI;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1C1D,OAAA;YAAIuF,SAAS,EAAC,WAAW;YAAA5C,QAAA,eACvB3C,OAAA;cACEqD,KAAK,EAAER,IAAI,CAAC2B,IAAK;cACjBuD,QAAQ,EAAGL,CAAC,IAAKe,gBAAgB,CAAC5F,IAAI,CAAC0D,GAAG,EAAEmB,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;cAC5DkC,SAAS,EAAC,6BAA6B;cAAA5C,QAAA,EAEtCiG,MAAM,CAACC,MAAM,CAAC5I,KAAK,CAAC,CAACkG,GAAG,CAAE3B,IAAI,iBAC7BxE,OAAA;gBAAmBqD,KAAK,EAAEmB,IAAK;gBAAA7B,QAAA,EAAE6B;cAAI,GAAxBA,IAAI;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAA6B,CAC/C;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC;QAAA,GAbEb,IAAI,CAAC0D,GAAG;UAAAhD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcb,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;;AAED;AAAA4E,GAAA,CApEMD,SAAS;AAAAS,GAAA,GAATT,SAAS;AAqEf,MAAMU,cAAc,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC3B,MAAM,CAAC/B,KAAK,EAAEgC,QAAQ,CAAC,GAAGhK,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiI,IAAI,EAAEgC,OAAO,CAAC,GAAGjK,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMoG,QAAQ,GAAG5F,WAAW,CAAC,CAAC;EAE9B,MAAMgI,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB5B,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI,CAACkB,KAAK,IAAI,CAACC,IAAI,EAAE;MACnBnB,QAAQ,CAAC,8BAA8B,CAAC;MACxC;IACF;IACA,IAAI;MACF,MAAMtF,SAAS,CAACuB,IAAI,CAAC,UAAU,EAAE;QAAEiF,KAAK;QAAEC;MAAK,CAAC,CAAC;MACjD7B,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZH,QAAQ,CAAC,wBAAwB,CAAC;MAClC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAED,oBACElG,OAAA;IAAKuF,SAAS,EAAC,qDAAqD;IAAA5C,QAAA,gBAClE3C,OAAA;MAAIuF,SAAS,EAAC,qCAAqC;MAAA5C,QAAA,EAAC;IAAe;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxE1D,OAAA;MAAM4H,QAAQ,EAAEH,YAAa;MAAA9E,QAAA,GAC1BpB,KAAK,iBAAIvB,OAAA;QAAGuF,SAAS,EAAC,+BAA+B;QAAA5C,QAAA,EAAEpB;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClE1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,OAAO;UAAAlF,QAAA,EAAC;QAAK;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzE1D,OAAA;UACE8H,IAAI,EAAC,MAAM;UACXnD,EAAE,EAAC,OAAO;UACVtB,KAAK,EAAE4D,KAAM;UACbc,QAAQ,EAAGL,CAAC,IAAKuB,QAAQ,CAACvB,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC1CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,MAAM;UAAAlF,QAAA,EAAC;QAAI;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvE1D,OAAA;UACE2E,EAAE,EAAC,MAAM;UACTwE,IAAI,EAAC,IAAI;UACT9F,KAAK,EAAE6D,IAAK;UACZa,QAAQ,EAAGL,CAAC,IAAKwB,OAAO,CAACxB,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UACzCkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QACE8H,IAAI,EAAC,QAAQ;QACbvC,SAAS,EAAC,iFAAiF;QAAA5C,QAAA,EAC5F;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAAsF,GAAA,CA1DMD,cAAc;EAAA,QAIDtJ,WAAW;AAAA;AAAA2J,GAAA,GAJxBL,cAAc;AA2DpB,MAAMM,YAAY,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACzB,MAAM,CAACrC,KAAK,EAAEgC,QAAQ,CAAC,GAAGhK,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiI,IAAI,EAAEgC,OAAO,CAAC,GAAGjK,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACsC,KAAK,EAAEwE,QAAQ,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC8D,OAAO,EAAEC,UAAU,CAAC,GAAG/D,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMoG,QAAQ,GAAG5F,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEkF;EAAG,CAAC,GAAG9E,SAAS,CAAC,CAAC;EAE1BX,SAAS,CAAC,MAAM;IACd,MAAMqK,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAM;UAAExH;QAAK,CAAC,GAAG,MAAMtB,SAAS,CAACwF,GAAG,CAAC,YAAYtB,EAAE,EAAE,CAAC;QACtDsE,QAAQ,CAAClH,IAAI,CAACkF,KAAK,CAAC;QACpBiC,OAAO,CAACnH,IAAI,CAACmF,IAAI,CAAC;QAClBlE,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOkD,GAAG,EAAE;QACZH,QAAQ,CAAC,4BAA4B,CAAC;QACtC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;QAClBlD,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IACDuG,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAAC5E,EAAE,CAAC,CAAC;EAER,MAAM8C,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB5B,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI,CAACkB,KAAK,IAAI,CAACC,IAAI,EAAE;MACnBnB,QAAQ,CAAC,8BAA8B,CAAC;MACxC;IACF;IACA,IAAI;MACF,MAAMtF,SAAS,CAACkI,GAAG,CAAC,YAAYhE,EAAE,EAAE,EAAE;QAAEsC,KAAK;QAAEC;MAAK,CAAC,CAAC;MACtD7B,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZH,QAAQ,CAAC,wBAAwB,CAAC;MAClC9C,OAAO,CAAC1B,KAAK,CAAC2E,GAAG,CAAC;IACpB;EACF,CAAC;EAED,IAAInD,OAAO,EAAE;IACX,oBAAO/C,OAAA;MAAKuF,SAAS,EAAC,aAAa;MAAA5C,QAAA,EAAC;IAAe;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC3D;EAEA,IAAInC,KAAK,IAAI,CAAC0F,KAAK,EAAE;IAClB,oBAAOjH,OAAA;MAAGuF,SAAS,EAAC,0BAA0B;MAAA5C,QAAA,EAAEpB;IAAK;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAC7D;EAEA,oBACE1D,OAAA;IAAKuF,SAAS,EAAC,qDAAqD;IAAA5C,QAAA,gBAClE3C,OAAA;MAAIuF,SAAS,EAAC,qCAAqC;MAAA5C,QAAA,EAAC;IAAS;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClE1D,OAAA;MAAM4H,QAAQ,EAAEH,YAAa;MAAA9E,QAAA,GAC1BpB,KAAK,iBAAIvB,OAAA;QAAGuF,SAAS,EAAC,+BAA+B;QAAA5C,QAAA,EAAEpB;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClE1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,OAAO;UAAAlF,QAAA,EAAC;QAAK;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzE1D,OAAA;UACE8H,IAAI,EAAC,MAAM;UACXnD,EAAE,EAAC,OAAO;UACVtB,KAAK,EAAE4D,KAAM;UACbc,QAAQ,EAAGL,CAAC,IAAKuB,QAAQ,CAACvB,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UAC1CkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QAAKuF,SAAS,EAAC,MAAM;QAAA5C,QAAA,gBACnB3C,OAAA;UAAOuF,SAAS,EAAC,0BAA0B;UAACsC,OAAO,EAAC,MAAM;UAAAlF,QAAA,EAAC;QAAI;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvE1D,OAAA;UACE2E,EAAE,EAAC,MAAM;UACTwE,IAAI,EAAC,IAAI;UACT9F,KAAK,EAAE6D,IAAK;UACZa,QAAQ,EAAGL,CAAC,IAAKwB,OAAO,CAACxB,CAAC,CAACM,MAAM,CAAC3E,KAAK,CAAE;UACzCkC,SAAS,EAAC;QAAwF;UAAAhC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN1D,OAAA;QACE8H,IAAI,EAAC,QAAQ;QACbvC,SAAS,EAAC,iFAAiF;QAAA5C,QAAA,EAC5F;MAED;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;;AAED;AAAA4F,GAAA,CApFMD,YAAY;EAAA,QAKC5J,WAAW,EACbI,SAAS;AAAA;AAAA2J,GAAA,GANpBH,YAAY;AAqFlB,MAAMI,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,oBACEzJ,OAAA;IAAKuF,SAAS,EAAC,aAAa;IAAA5C,QAAA,gBAC1B3C,OAAA;MAAIuF,SAAS,EAAC,iCAAiC;MAAA5C,QAAA,EAAC;IAAa;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClE1D,OAAA;MAAGuF,SAAS,EAAC,cAAc;MAAA5C,QAAA,EAAC;IAA6C;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC7E1D,OAAA,CAACR,IAAI;MAACgG,EAAE,EAAC,GAAG;MAACD,SAAS,EAAC,iDAAiD;MAAA5C,QAAA,EAAC;IAAe;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5F,CAAC;AAEV,CAAC;;AAED;AAAAgG,GAAA,GAVMD,gBAAgB;AAWtB,MAAME,cAAc,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,IAAA;EAC3C,MAAM;IAAEhH;EAAK,CAAC,GAAGe,OAAO,CAAC,CAAC;EAC1B,MAAMpB,QAAQ,GAAG7C,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEsF;EAAS,CAAC,GAAGnB,cAAc,CAAC,CAAC;EAErC,IAAI,CAACjB,IAAI,EAAE;IACT,oBAAO7C,OAAA,CAACJ,QAAQ;MAAC4F,EAAE,EAAC,QAAQ;MAACsE,KAAK,EAAE;QAAEC,IAAI,EAAEvH;MAAS,CAAE;MAACwH,OAAO;IAAA;MAAAzG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpE;EAEA,IAAIkG,YAAY,IAAI,CAACA,YAAY,CAACnF,QAAQ,CAACQ,QAAQ,CAAC,EAAE;IACpD,oBAAOjF,OAAA,CAACJ,QAAQ;MAAC4F,EAAE,EAAC,eAAe;MAACsE,KAAK,EAAE;QAAEC,IAAI,EAAEvH;MAAS,CAAE;MAACwH,OAAO;IAAA;MAAAzG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC3E;EAEA,oBAAO1D,OAAA,CAACN,MAAM;IAAA6D,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACnB,CAAC;;AAED;AAAAmG,IAAA,CAhBMF,cAAc;EAAA,QACD/F,OAAO,EACPjE,WAAW,EACPmE,cAAc;AAAA;AAAAmG,GAAA,GAH/BN,cAAc;AAiBpB,eAAe,SAASO,GAAGA,CAAA,EAAG;EAC5B,oBACElK,OAAA,CAAC0C,YAAY;IAAAC,QAAA,eACX3C,OAAA,CAACX,aAAa;MAAAsD,QAAA,eACZ3C,OAAA,CAACV,MAAM;QAAAqD,QAAA,eACL3C,OAAA,CAACT,KAAK;UAAC4K,IAAI,EAAC,GAAG;UAACC,OAAO,eAAEpK,OAAA,CAACmF,MAAM;YAAA5B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAAAf,QAAA,gBAElC3C,OAAA,CAACT,KAAK;YAAC4K,IAAI,EAAC,QAAQ;YAACC,OAAO,eAAEpK,OAAA,CAACoH,SAAS;cAAA7D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/C1D,OAAA,CAACT,KAAK;YAAC4K,IAAI,EAAC,WAAW;YAACC,OAAO,eAAEpK,OAAA,CAACkI,YAAY;cAAA3E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACrD1D,OAAA,CAACT,KAAK;YAAC4K,IAAI,EAAC,eAAe;YAACC,OAAO,eAAEpK,OAAA,CAACyJ,gBAAgB;cAAAlG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAE7D1D,OAAA,CAACT,KAAK;YAAC6K,OAAO,eAAEpK,OAAA,CAAC2J,cAAc;cAAApG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YAAAf,QAAA,eACjC3C,OAAA,CAACT,KAAK;cAAC8K,KAAK;cAACD,OAAO,eAAEpK,OAAA,CAAC4F,QAAQ;gBAAArC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAE;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC,eAER1D,OAAA,CAACT,KAAK;YAAC6K,OAAO,eAAEpK,OAAA,CAAC2J,cAAc;cAACC,YAAY,EAAE,CAAC3J,KAAK,CAACC,KAAK,EAAED,KAAK,CAACE,MAAM;YAAE;cAAAoD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YAAAf,QAAA,gBAC5E3C,OAAA,CAACT,KAAK;cAAC4K,IAAI,EAAC,QAAQ;cAACC,OAAO,eAAEpK,OAAA,CAAC+I,cAAc;gBAAAxF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAE;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACpD1D,OAAA,CAACT,KAAK;cAAC4K,IAAI,EAAC,UAAU;cAACC,OAAO,eAAEpK,OAAA,CAACqJ,YAAY;gBAAA9F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAE;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC,eAER1D,OAAA,CAACT,KAAK;YAAC6K,OAAO,eAAEpK,OAAA,CAAC2J,cAAc;cAACC,YAAY,EAAE,CAAC3J,KAAK,CAACC,KAAK;YAAE;cAAAqD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAE;YAAAf,QAAA,eAC9D3C,OAAA,CAACT,KAAK;cAAC4K,IAAI,EAAC,OAAO;cAACC,OAAO,eAAEpK,OAAA,CAACqI,SAAS;gBAAA9E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAE;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEnB;AAAC4G,IAAA,GA7BuBJ,GAAG;AAAA,IAAAvG,EAAA,EAAAgC,GAAA,EAAAa,GAAA,EAAAW,GAAA,EAAAc,GAAA,EAAAG,GAAA,EAAAU,GAAA,EAAAM,GAAA,EAAAI,GAAA,EAAAE,GAAA,EAAAO,GAAA,EAAAK,IAAA;AAAAC,YAAA,CAAA5G,EAAA;AAAA4G,YAAA,CAAA5E,GAAA;AAAA4E,YAAA,CAAA/D,GAAA;AAAA+D,YAAA,CAAApD,GAAA;AAAAoD,YAAA,CAAAtC,GAAA;AAAAsC,YAAA,CAAAnC,GAAA;AAAAmC,YAAA,CAAAzB,GAAA;AAAAyB,YAAA,CAAAnB,GAAA;AAAAmB,YAAA,CAAAf,GAAA;AAAAe,YAAA,CAAAb,GAAA;AAAAa,YAAA,CAAAN,GAAA;AAAAM,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}